(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fi(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const pe={},Ps=[],mt=()=>{},$c=()=>!1,Xn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),di=e=>e.startsWith("onUpdate:"),$e=Object.assign,hi=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ac=Object.prototype.hasOwnProperty,ue=(e,t)=>Ac.call(e,t),G=Array.isArray,$s=e=>Zn(e)==="[object Map]",ya=e=>Zn(e)==="[object Set]",Y=e=>typeof e=="function",Ee=e=>typeof e=="string",Tt=e=>typeof e=="symbol",ye=e=>e!==null&&typeof e=="object",ba=e=>(ye(e)||Y(e))&&Y(e.then)&&Y(e.catch),wa=Object.prototype.toString,Zn=e=>wa.call(e),Oc=e=>Zn(e).slice(8,-1),ka=e=>Zn(e)==="[object Object]",pi=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Js=fi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),er=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},xc=/-(\w)/g,st=er(e=>e.replace(xc,(t,s)=>s?s.toUpperCase():"")),Rc=/\B([A-Z])/g,qt=er(e=>e.replace(Rc,"-$1").toLowerCase()),tr=er(e=>e.charAt(0).toUpperCase()+e.slice(1)),mr=er(e=>e?`on${tr(e)}`:""),Ft=(e,t)=>!Object.is(e,t),Ln=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Sa=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Ur=e=>{const t=parseFloat(e);return isNaN(t)?e:t},jc=e=>{const t=Ee(e)?Number(e):NaN;return isNaN(t)?e:t};let Hi;const sr=()=>Hi||(Hi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gi(e){if(G(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Ee(n)?Mc(n):gi(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ee(e)||ye(e))return e}const Ic=/;(?![^(]*\))/g,Lc=/:([^]+)/,Dc=/\/\*[^]*?\*\//g;function Mc(e){const t={};return e.replace(Dc,"").split(Ic).forEach(s=>{if(s){const n=s.split(Lc);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Te(e){let t="";if(Ee(e))t=e;else if(G(e))for(let s=0;s<e.length;s++){const n=Te(e[s]);n&&(t+=n+" ")}else if(ye(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Uc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nc=fi(Uc);function Ea(e){return!!e||e===""}const Ta=e=>!!(e&&e.__v_isRef===!0),ae=e=>Ee(e)?e:e==null?"":G(e)||ye(e)&&(e.toString===wa||!Y(e.toString))?Ta(e)?ae(e.value):JSON.stringify(e,Ca,2):String(e),Ca=(e,t)=>Ta(t)?Ca(e,t.value):$s(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[vr(n,i)+" =>"]=r,s),{})}:ya(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>vr(s))}:Tt(t)?vr(t):ye(t)&&!G(t)&&!ka(t)?String(t):t,vr=(e,t="")=>{var s;return Tt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Be;class Pa{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Be;try{return Be=this,t()}finally{Be=s}}}on(){Be=this}off(){Be=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function $a(e){return new Pa(e)}function Aa(){return Be}function Fc(e,t=!1){Be&&Be.cleanups.push(e)}let ve;const _r=new WeakSet;class Oa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Be&&Be.active&&Be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_r.has(this)&&(_r.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ra(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vi(this),ja(this);const t=ve,s=at;ve=this,at=!0;try{return this.fn()}finally{Ia(this),ve=t,at=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_i(t);this.deps=this.depsTail=void 0,Vi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_r.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nr(this)&&this.run()}get dirty(){return Nr(this)}}let xa=0,Qs,Ys;function Ra(e,t=!1){if(e.flags|=8,t){e.next=Ys,Ys=e;return}e.next=Qs,Qs=e}function mi(){xa++}function vi(){if(--xa>0)return;if(Ys){let t=Ys;for(Ys=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Qs;){let t=Qs;for(Qs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ja(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ia(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),_i(n),Bc(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Nr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(La(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function La(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===an))return;e.globalVersion=an;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Nr(e)){e.flags&=-3;return}const s=ve,n=at;ve=e,at=!0;try{ja(e);const r=e.fn(e._value);(t.version===0||Ft(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ve=s,at=n,Ia(e),e.flags&=-3}}function _i(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)_i(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Bc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let at=!0;const Da=[];function Wt(){Da.push(at),at=!1}function Kt(){const e=Da.pop();at=e===void 0?!0:e}function Vi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ve;ve=void 0;try{t()}finally{ve=s}}}let an=0;class Hc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ve||!at||ve===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ve)s=this.activeLink=new Hc(ve,this),ve.deps?(s.prevDep=ve.depsTail,ve.depsTail.nextDep=s,ve.depsTail=s):ve.deps=ve.depsTail=s,Ma(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ve.depsTail,s.nextDep=void 0,ve.depsTail.nextDep=s,ve.depsTail=s,ve.deps===s&&(ve.deps=n)}return s}trigger(t){this.version++,an++,this.notify(t)}notify(t){mi();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{vi()}}}function Ma(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ma(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Bn=new WeakMap,ss=Symbol(""),Fr=Symbol(""),ln=Symbol("");function De(e,t,s){if(at&&ve){let n=Bn.get(e);n||Bn.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new yi),r.map=n,r.key=s),r.track()}}function kt(e,t,s,n,r,i){const o=Bn.get(e);if(!o){an++;return}const a=l=>{l&&l.trigger()};if(mi(),t==="clear")o.forEach(a);else{const l=G(e),u=l&&pi(s);if(l&&s==="length"){const c=Number(n);o.forEach((f,d)=>{(d==="length"||d===ln||!Tt(d)&&d>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(ln)),t){case"add":l?u&&a(o.get("length")):(a(o.get(ss)),$s(e)&&a(o.get(Fr)));break;case"delete":l||(a(o.get(ss)),$s(e)&&a(o.get(Fr)));break;case"set":$s(e)&&a(o.get(ss));break}}vi()}function Vc(e,t){const s=Bn.get(e);return s&&s.get(t)}function ps(e){const t=oe(e);return t===e?t:(De(t,"iterate",ln),et(e)?t:t.map(Me))}function nr(e){return De(e=oe(e),"iterate",ln),e}const qc={__proto__:null,[Symbol.iterator](){return yr(this,Symbol.iterator,Me)},concat(...e){return ps(this).concat(...e.map(t=>G(t)?ps(t):t))},entries(){return yr(this,"entries",e=>(e[1]=Me(e[1]),e))},every(e,t){return _t(this,"every",e,t,void 0,arguments)},filter(e,t){return _t(this,"filter",e,t,s=>s.map(Me),arguments)},find(e,t){return _t(this,"find",e,t,Me,arguments)},findIndex(e,t){return _t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _t(this,"findLast",e,t,Me,arguments)},findLastIndex(e,t){return _t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _t(this,"forEach",e,t,void 0,arguments)},includes(...e){return br(this,"includes",e)},indexOf(...e){return br(this,"indexOf",e)},join(e){return ps(this).join(e)},lastIndexOf(...e){return br(this,"lastIndexOf",e)},map(e,t){return _t(this,"map",e,t,void 0,arguments)},pop(){return Fs(this,"pop")},push(...e){return Fs(this,"push",e)},reduce(e,...t){return qi(this,"reduce",e,t)},reduceRight(e,...t){return qi(this,"reduceRight",e,t)},shift(){return Fs(this,"shift")},some(e,t){return _t(this,"some",e,t,void 0,arguments)},splice(...e){return Fs(this,"splice",e)},toReversed(){return ps(this).toReversed()},toSorted(e){return ps(this).toSorted(e)},toSpliced(...e){return ps(this).toSpliced(...e)},unshift(...e){return Fs(this,"unshift",e)},values(){return yr(this,"values",Me)}};function yr(e,t,s){const n=nr(e),r=n[t]();return n!==e&&!et(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const Wc=Array.prototype;function _t(e,t,s,n,r,i){const o=nr(e),a=o!==e&&!et(e),l=o[t];if(l!==Wc[t]){const f=l.apply(e,i);return a?Me(f):f}let u=s;o!==e&&(a?u=function(f,d){return s.call(this,Me(f),d,e)}:s.length>2&&(u=function(f,d){return s.call(this,f,d,e)}));const c=l.call(o,u,n);return a&&r?r(c):c}function qi(e,t,s,n){const r=nr(e);let i=s;return r!==e&&(et(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Me(a),l,e)}),r[t](i,...n)}function br(e,t,s){const n=oe(e);De(n,"iterate",ln);const r=n[t](...s);return(r===-1||r===!1)&&ki(s[0])?(s[0]=oe(s[0]),n[t](...s)):r}function Fs(e,t,s=[]){Wt(),mi();const n=oe(e)[t].apply(e,s);return vi(),Kt(),n}const Kc=fi("__proto__,__v_isRef,__isVue"),Ua=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tt));function zc(e){Tt(e)||(e=String(e));const t=oe(this);return De(t,"has",e),t.hasOwnProperty(e)}class Na{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?nu:Va:i?Ha:Ba).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=G(t);if(!r){let l;if(o&&(l=qc[s]))return l;if(s==="hasOwnProperty")return zc}const a=Reflect.get(t,s,Pe(t)?t:n);return(Tt(s)?Ua.has(s):Kc(s))||(r||De(t,"get",s),i)?a:Pe(a)?o&&pi(s)?a:a.value:ye(a)?r?Wa(a):Ms(a):a}}class Fa extends Na{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=is(i);if(!et(n)&&!is(n)&&(i=oe(i),n=oe(n)),!G(t)&&Pe(i)&&!Pe(n))return l?!1:(i.value=n,!0)}const o=G(t)&&pi(s)?Number(s)<t.length:ue(t,s),a=Reflect.set(t,s,n,Pe(t)?t:r);return t===oe(r)&&(o?Ft(n,i)&&kt(t,"set",s,n):kt(t,"add",s,n)),a}deleteProperty(t,s){const n=ue(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&kt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!Tt(s)||!Ua.has(s))&&De(t,"has",s),n}ownKeys(t){return De(t,"iterate",G(t)?"length":ss),Reflect.ownKeys(t)}}class Gc extends Na{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Jc=new Fa,Qc=new Gc,Yc=new Fa(!0);const Br=e=>e,En=e=>Reflect.getPrototypeOf(e);function Xc(e,t,s){return function(...n){const r=this.__v_raw,i=oe(r),o=$s(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...n),c=s?Br:t?Hr:Me;return!t&&De(i,"iterate",l?Fr:ss),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Tn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Zc(e,t){const s={get(r){const i=this.__v_raw,o=oe(i),a=oe(r);e||(Ft(r,a)&&De(o,"get",r),De(o,"get",a));const{has:l}=En(o),u=t?Br:e?Hr:Me;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&De(oe(r),"iterate",ss),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=oe(i),a=oe(r);return e||(Ft(r,a)&&De(o,"has",r),De(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=oe(a),u=t?Br:e?Hr:Me;return!e&&De(l,"iterate",ss),a.forEach((c,f)=>r.call(i,u(c),u(f),o))}};return $e(s,e?{add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear")}:{add(r){!t&&!et(r)&&!is(r)&&(r=oe(r));const i=oe(this);return En(i).has.call(i,r)||(i.add(r),kt(i,"add",r,r)),this},set(r,i){!t&&!et(i)&&!is(i)&&(i=oe(i));const o=oe(this),{has:a,get:l}=En(o);let u=a.call(o,r);u||(r=oe(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?Ft(i,c)&&kt(o,"set",r,i):kt(o,"add",r,i),this},delete(r){const i=oe(this),{has:o,get:a}=En(i);let l=o.call(i,r);l||(r=oe(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&kt(i,"delete",r,void 0),u},clear(){const r=oe(this),i=r.size!==0,o=r.clear();return i&&kt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Xc(r,e,t)}),s}function bi(e,t){const s=Zc(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ue(s,r)&&r in n?s:n,r,i)}const eu={get:bi(!1,!1)},tu={get:bi(!1,!0)},su={get:bi(!0,!1)};const Ba=new WeakMap,Ha=new WeakMap,Va=new WeakMap,nu=new WeakMap;function ru(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iu(e){return e.__v_skip||!Object.isExtensible(e)?0:ru(Oc(e))}function Ms(e){return is(e)?e:wi(e,!1,Jc,eu,Ba)}function qa(e){return wi(e,!1,Yc,tu,Ha)}function Wa(e){return wi(e,!0,Qc,su,Va)}function wi(e,t,s,n,r){if(!ye(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=iu(e);if(o===0)return e;const a=new Proxy(e,o===2?n:s);return r.set(e,a),a}function Bt(e){return is(e)?Bt(e.__v_raw):!!(e&&e.__v_isReactive)}function is(e){return!!(e&&e.__v_isReadonly)}function et(e){return!!(e&&e.__v_isShallow)}function ki(e){return e?!!e.__v_raw:!1}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function Si(e){return!ue(e,"__v_skip")&&Object.isExtensible(e)&&Sa(e,"__v_skip",!0),e}const Me=e=>ye(e)?Ms(e):e,Hr=e=>ye(e)?Wa(e):e;function Pe(e){return e?e.__v_isRef===!0:!1}function X(e){return Ka(e,!1)}function ou(e){return Ka(e,!0)}function Ka(e,t){return Pe(e)?e:new au(e,t)}class au{constructor(t,s){this.dep=new yi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:oe(t),this._value=s?t:Me(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||et(t)||is(t);t=n?t:oe(t),Ft(t,s)&&(this._rawValue=t,this._value=n?t:Me(t),this.dep.trigger())}}function J(e){return Pe(e)?e.value:e}const lu={get:(e,t,s)=>t==="__v_raw"?e:J(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Pe(r)&&!Pe(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function za(e){return Bt(e)?e:new Proxy(e,lu)}function cu(e){const t=G(e)?new Array(e.length):{};for(const s in e)t[s]=fu(e,s);return t}class uu{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Vc(oe(this._object),this._key)}}function fu(e,t,s){const n=e[t];return Pe(n)?n:new uu(e,t,s)}class du{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new yi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=an-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ve!==this)return Ra(this,!0),!0}get value(){const t=this.dep.track();return La(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hu(e,t,s=!1){let n,r;return Y(e)?n=e:(n=e.get,r=e.set),new du(n,r,s)}const Cn={},Hn=new WeakMap;let Xt;function pu(e,t=!1,s=Xt){if(s){let n=Hn.get(s);n||Hn.set(s,n=[]),n.push(e)}}function gu(e,t,s=pe){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=b=>r?b:et(b)||r===!1||r===0?St(b,1):St(b);let c,f,d,h,m=!1,_=!1;if(Pe(e)?(f=()=>e.value,m=et(e)):Bt(e)?(f=()=>u(e),m=!0):G(e)?(_=!0,m=e.some(b=>Bt(b)||et(b)),f=()=>e.map(b=>{if(Pe(b))return b.value;if(Bt(b))return u(b);if(Y(b))return l?l(b,2):b()})):Y(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Wt();try{d()}finally{Kt()}}const b=Xt;Xt=c;try{return l?l(e,3,[h]):e(h)}finally{Xt=b}}:f=mt,t&&r){const b=f,w=r===!0?1/0:r;f=()=>St(b(),w)}const k=Aa(),O=()=>{c.stop(),k&&k.active&&hi(k.effects,c)};if(i&&t){const b=t;t=(...w)=>{b(...w),O()}}let x=_?new Array(e.length).fill(Cn):Cn;const R=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const w=c.run();if(r||m||(_?w.some((T,j)=>Ft(T,x[j])):Ft(w,x))){d&&d();const T=Xt;Xt=c;try{const j=[w,x===Cn?void 0:_&&x[0]===Cn?[]:x,h];l?l(t,3,j):t(...j),x=w}finally{Xt=T}}}else c.run()};return a&&a(R),c=new Oa(f),c.scheduler=o?()=>o(R,!1):R,h=b=>pu(b,!1,c),d=c.onStop=()=>{const b=Hn.get(c);if(b){if(l)l(b,4);else for(const w of b)w();Hn.delete(c)}},t?n?R(!0):x=c.run():o?o(R.bind(null,!0),!0):c.run(),O.pause=c.pause.bind(c),O.resume=c.resume.bind(c),O.stop=O,O}function St(e,t=1/0,s){if(t<=0||!ye(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Pe(e))St(e.value,t,s);else if(G(e))for(let n=0;n<e.length;n++)St(e[n],t,s);else if(ya(e)||$s(e))e.forEach(n=>{St(n,t,s)});else if(ka(e)){for(const n in e)St(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&St(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _n(e,t,s,n){try{return n?e(...n):e()}catch(r){rr(r,t,s)}}function lt(e,t,s,n){if(Y(e)){const r=_n(e,t,s,n);return r&&ba(r)&&r.catch(i=>{rr(i,t,s)}),r}if(G(e)){const r=[];for(let i=0;i<e.length;i++)r.push(lt(e[i],t,s,n));return r}}function rr(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||pe;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(i){Wt(),_n(i,null,10,[e,l,u]),Kt();return}}mu(e,s,r,n,o)}function mu(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const He=[];let pt=-1;const As=[];let It=null,Es=0;const Ga=Promise.resolve();let Vn=null;function yn(e){const t=Vn||Ga;return e?t.then(this?e.bind(this):e):t}function vu(e){let t=pt+1,s=He.length;for(;t<s;){const n=t+s>>>1,r=He[n],i=cn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function Ei(e){if(!(e.flags&1)){const t=cn(e),s=He[He.length-1];!s||!(e.flags&2)&&t>=cn(s)?He.push(e):He.splice(vu(t),0,e),e.flags|=1,Ja()}}function Ja(){Vn||(Vn=Ga.then(Ya))}function _u(e){G(e)?As.push(...e):It&&e.id===-1?It.splice(Es+1,0,e):e.flags&1||(As.push(e),e.flags|=1),Ja()}function Wi(e,t,s=pt+1){for(;s<He.length;s++){const n=He[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;He.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Qa(e){if(As.length){const t=[...new Set(As)].sort((s,n)=>cn(s)-cn(n));if(As.length=0,It){It.push(...t);return}for(It=t,Es=0;Es<It.length;Es++){const s=It[Es];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}It=null,Es=0}}const cn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ya(e){try{for(pt=0;pt<He.length;pt++){const t=He[pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_n(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pt<He.length;pt++){const t=He[pt];t&&(t.flags&=-2)}pt=-1,He.length=0,Qa(),Vn=null,(He.length||As.length)&&Ya()}}let Oe=null,Xa=null;function qn(e){const t=Oe;return Oe=e,Xa=e&&e.type.__scopeId||null,t}function ot(e,t=Oe,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&io(-1);const i=qn(t);let o;try{o=e(...r)}finally{qn(i),n._d&&io(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Et(e,t){if(Oe===null)return e;const s=ur(Oe),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=pe]=t[r];i&&(Y(i)&&(i={mounted:i,updated:i}),i.deep&&St(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Gt(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Wt(),lt(l,s,8,[e.el,a,e,t]),Kt())}}const Za=Symbol("_vte"),el=e=>e.__isTeleport,Xs=e=>e&&(e.disabled||e.disabled===""),Ki=e=>e&&(e.defer||e.defer===""),zi=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Gi=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Vr=(e,t)=>{const s=e&&e.to;return Ee(s)?t?t(s):null:s},tl={name:"Teleport",__isTeleport:!0,process(e,t,s,n,r,i,o,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:_,createComment:k}}=u,O=Xs(t.props);let{shapeFlag:x,children:R,dynamicChildren:b}=t;if(e==null){const w=t.el=_(""),T=t.anchor=_("");h(w,s,n),h(T,s,n);const j=(P,K)=>{x&16&&(r&&r.isCE&&(r.ce._teleportTarget=P),c(R,P,K,r,i,o,a,l))},F=()=>{const P=t.target=Vr(t.props,m),K=sl(P,t,_,h);P&&(o!=="svg"&&zi(P)?o="svg":o!=="mathml"&&Gi(P)&&(o="mathml"),O||(j(P,K),Dn(t,!1)))};O&&(j(s,T),Dn(t,!0)),Ki(t.props)?Fe(()=>{F(),t.el.__isMounted=!0},i):F()}else{if(Ki(t.props)&&!e.el.__isMounted){Fe(()=>{tl.process(e,t,s,n,r,i,o,a,l,u),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const w=t.anchor=e.anchor,T=t.target=e.target,j=t.targetAnchor=e.targetAnchor,F=Xs(e.props),P=F?s:T,K=F?w:j;if(o==="svg"||zi(T)?o="svg":(o==="mathml"||Gi(T))&&(o="mathml"),b?(d(e.dynamicChildren,b,P,r,i,o,a),$i(e,t,!0)):l||f(e,t,P,K,r,i,o,a,!1),O)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Pn(t,s,w,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const se=t.target=Vr(t.props,m);se&&Pn(t,se,null,u,0)}else F&&Pn(t,T,j,u,1);Dn(t,O)}},remove(e,t,s,{um:n,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(r(u),r(c)),i&&r(l),o&16){const h=i||!Xs(d);for(let m=0;m<a.length;m++){const _=a[m];n(_,t,s,h,!!_.dynamicChildren)}}},move:Pn,hydrate:yu};function Pn(e,t,s,{o:{insert:n},m:r},i=2){i===0&&n(e.targetAnchor,t,s);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&n(o,t,s),(!f||Xs(c))&&l&16)for(let d=0;d<u.length;d++)r(u[d],t,s,2);f&&n(a,t,s)}function yu(e,t,s,n,r,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},f){const d=t.target=Vr(t.props,l);if(d){const h=Xs(t.props),m=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(o(e),t,a(e),s,n,r,i),t.targetStart=m,t.targetAnchor=m&&o(m);else{t.anchor=o(e);let _=m;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")t.targetStart=_;else if(_.data==="teleport anchor"){t.targetAnchor=_,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}_=o(_)}t.targetAnchor||sl(d,t,c,u),f(m&&o(m),t,d,s,n,r,i)}Dn(t,h)}return t.anchor&&o(t.anchor)}const Ji=tl;function Dn(e,t){const s=e.ctx;if(s&&s.ut){let n,r;for(t?(n=e.el,r=e.anchor):(n=e.targetStart,r=e.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function sl(e,t,s,n){const r=t.targetStart=s(""),i=t.targetAnchor=s("");return r[Za]=i,e&&(n(r,e),n(i,e)),i}const Lt=Symbol("_leaveCb"),$n=Symbol("_enterCb");function nl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zt(()=>{e.isMounted=!0}),fl(()=>{e.isUnmounting=!0}),e}const Ze=[Function,Array],rl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ze,onEnter:Ze,onAfterEnter:Ze,onEnterCancelled:Ze,onBeforeLeave:Ze,onLeave:Ze,onAfterLeave:Ze,onLeaveCancelled:Ze,onBeforeAppear:Ze,onAppear:Ze,onAfterAppear:Ze,onAppearCancelled:Ze},il=e=>{const t=e.subTree;return t.component?il(t.component):t},bu={name:"BaseTransition",props:rl,setup(e,{slots:t}){const s=Rl(),n=nl();return()=>{const r=t.default&&Ti(t.default(),!0);if(!r||!r.length)return;const i=ol(r),o=oe(e),{mode:a}=o;if(n.isLeaving)return wr(i);const l=Qi(i);if(!l)return wr(i);let u=un(l,o,n,s,f=>u=f);l.type!==Ve&&os(l,u);let c=s.subTree&&Qi(s.subTree);if(c&&c.type!==Ve&&!es(l,c)&&il(s).type!==Ve){let f=un(c,o,n,s);if(os(c,f),a==="out-in"&&l.type!==Ve)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,c=void 0},wr(i);a==="in-out"&&l.type!==Ve?f.delayLeave=(d,h,m)=>{const _=al(n,c);_[String(c.key)]=c,d[Lt]=()=>{h(),d[Lt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function ol(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==Ve){t=s;break}}return t}const wu=bu;function al(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function un(e,t,s,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:k,onAppear:O,onAfterAppear:x,onAppearCancelled:R}=t,b=String(e.key),w=al(s,e),T=(P,K)=>{P&&lt(P,n,9,K)},j=(P,K)=>{const se=K[1];T(P,K),G(P)?P.every(N=>N.length<=1)&&se():P.length<=1&&se()},F={mode:o,persisted:a,beforeEnter(P){let K=l;if(!s.isMounted)if(i)K=k||l;else return;P[Lt]&&P[Lt](!0);const se=w[b];se&&es(e,se)&&se.el[Lt]&&se.el[Lt](),T(K,[P])},enter(P){let K=u,se=c,N=f;if(!s.isMounted)if(i)K=O||u,se=x||c,N=R||f;else return;let re=!1;const Ae=P[$n]=Ue=>{re||(re=!0,Ue?T(N,[P]):T(se,[P]),F.delayedLeave&&F.delayedLeave(),P[$n]=void 0)};K?j(K,[P,Ae]):Ae()},leave(P,K){const se=String(e.key);if(P[$n]&&P[$n](!0),s.isUnmounting)return K();T(d,[P]);let N=!1;const re=P[Lt]=Ae=>{N||(N=!0,K(),Ae?T(_,[P]):T(m,[P]),P[Lt]=void 0,w[se]===e&&delete w[se])};w[se]=e,h?j(h,[P,re]):re()},clone(P){const K=un(P,t,s,n,r);return r&&r(K),K}};return F}function wr(e){if(ir(e))return e=Vt(e),e.children=null,e}function Qi(e){if(!ir(e))return el(e.type)&&e.children?ol(e.children):e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Y(s.default))return s.default()}}function os(e,t){e.shapeFlag&6&&e.component?(e.transition=t,os(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ti(e,t=!1,s){let n=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===Se?(o.patchFlag&128&&r++,n=n.concat(Ti(o.children,t,a))):(t||o.type!==Ve)&&n.push(a!=null?Vt(o,{key:a}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ie(e,t){return Y(e)?$e({name:e.name},t,{setup:e}):e}function ll(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Wn(e,t,s,n,r=!1){if(G(e)){e.forEach((m,_)=>Wn(m,t&&(G(t)?t[_]:t),s,n,r));return}if(Os(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Wn(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?ur(n.component):n.el,o=r?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===pe?a.refs={}:a.refs,f=a.setupState,d=oe(f),h=f===pe?()=>!1:m=>ue(d,m);if(u!=null&&u!==l&&(Ee(u)?(c[u]=null,h(u)&&(f[u]=null)):Pe(u)&&(u.value=null)),Y(l))_n(l,a,12,[o,c]);else{const m=Ee(l),_=Pe(l);if(m||_){const k=()=>{if(e.f){const O=m?h(l)?f[l]:c[l]:l.value;r?G(O)&&hi(O,i):G(O)?O.includes(i)||O.push(i):m?(c[l]=[i],h(l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,h(l)&&(f[l]=o)):_&&(l.value=o,e.k&&(c[e.k]=o))};o?(k.id=-1,Fe(k,s)):k()}}}sr().requestIdleCallback;sr().cancelIdleCallback;const Os=e=>!!e.type.__asyncLoader,ir=e=>e.type.__isKeepAlive;function ku(e,t){cl(e,"a",t)}function Su(e,t){cl(e,"da",t)}function cl(e,t,s=je){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(or(t,n,s),s){let r=s.parent;for(;r&&r.parent;)ir(r.parent.vnode)&&Eu(n,t,s,r),r=r.parent}}function Eu(e,t,s,n){const r=or(t,e,n,!0);ar(()=>{hi(n[t],r)},s)}function or(e,t,s=je,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Wt();const a=bn(s),l=lt(t,s,e,o);return a(),Kt(),l});return n?r.unshift(i):r.push(i),i}}const Ct=e=>(t,s=je)=>{(!hn||e==="sp")&&or(e,(...n)=>t(...n),s)},Tu=Ct("bm"),zt=Ct("m"),Cu=Ct("bu"),ul=Ct("u"),fl=Ct("bum"),ar=Ct("um"),Pu=Ct("sp"),$u=Ct("rtg"),Au=Ct("rtc");function Ou(e,t=je){or("ec",e,t)}const xu="components";function dl(e,t){return ju(xu,e,!0,t)||e}const Ru=Symbol.for("v-ndc");function ju(e,t,s=!0,n=!1){const r=Oe||je;if(r){const i=r.type;{const a=Sf(i,!1);if(a&&(a===t||a===st(t)||a===tr(st(t))))return i}const o=Yi(r[e]||i[e],t)||Yi(r.appContext[e],t);return!o&&n?i:o}}function Yi(e,t){return e&&(e[t]||e[st(t)]||e[tr(st(t))])}function as(e,t,s,n){let r;const i=s,o=G(e);if(o||Ee(e)){const a=o&&Bt(e);let l=!1;a&&(l=!et(e),e=nr(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?Me(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(ye(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,i)}}else r=[];return r}function Iu(e,t,s={},n,r){if(Oe.ce||Oe.parent&&Os(Oe.parent)&&Oe.parent.ce)return H(),ls(Se,null,[te("slot",s,n&&n())],64);let i=e[t];i&&i._c&&(i._d=!1),H();const o=i&&hl(i(s)),a=s.key||o&&o.key,l=ls(Se,{key:(a&&!Tt(a)?a:`_${t}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&e._===1?64:-2);return i&&i._c&&(i._d=!0),l}function hl(e){return e.some(t=>dn(t)?!(t.type===Ve||t.type===Se&&!hl(t.children)):!0)?e:null}const qr=e=>e?jl(e)?ur(e):qr(e.parent):null,Zs=$e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qr(e.parent),$root:e=>qr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ci(e),$forceUpdate:e=>e.f||(e.f=()=>{Ei(e.update)}),$nextTick:e=>e.n||(e.n=yn.bind(e.proxy)),$watch:e=>sf.bind(e)}),kr=(e,t)=>e!==pe&&!e.__isScriptSetup&&ue(e,t),Lu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(kr(n,t))return o[t]=1,n[t];if(r!==pe&&ue(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&ue(u,t))return o[t]=3,i[t];if(s!==pe&&ue(s,t))return o[t]=4,s[t];Wr&&(o[t]=0)}}const c=Zs[t];let f,d;if(c)return t==="$attrs"&&De(e.attrs,"get",""),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==pe&&ue(s,t))return o[t]=4,s[t];if(d=l.config.globalProperties,ue(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return kr(r,t)?(r[t]=s,!0):n!==pe&&ue(n,t)?(n[t]=s,!0):ue(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||e!==pe&&ue(e,o)||kr(t,o)||(a=i[0])&&ue(a,o)||ue(n,o)||ue(Zs,o)||ue(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ue(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Xi(e){return G(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Wr=!0;function Du(e){const t=Ci(e),s=e.proxy,n=e.ctx;Wr=!1,t.beforeCreate&&Zi(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:_,deactivated:k,beforeDestroy:O,beforeUnmount:x,destroyed:R,unmounted:b,render:w,renderTracked:T,renderTriggered:j,errorCaptured:F,serverPrefetch:P,expose:K,inheritAttrs:se,components:N,directives:re,filters:Ae}=t;if(u&&Mu(u,n,null),o)for(const Z in o){const le=o[Z];Y(le)&&(n[Z]=le.bind(s))}if(r){const Z=r.call(s,s);ye(Z)&&(e.data=Ms(Z))}if(Wr=!0,i)for(const Z in i){const le=i[Z],vt=Y(le)?le.bind(s,s):Y(le.get)?le.get.bind(s,s):mt,Pt=!Y(le)&&Y(le.set)?le.set.bind(s):mt,ut=Ce({get:vt,set:Pt});Object.defineProperty(n,Z,{enumerable:!0,configurable:!0,get:()=>ut.value,set:qe=>ut.value=qe})}if(a)for(const Z in a)pl(a[Z],n,s,Z);if(l){const Z=Y(l)?l.call(s):l;Reflect.ownKeys(Z).forEach(le=>{Mn(le,Z[le])})}c&&Zi(c,e,"c");function he(Z,le){G(le)?le.forEach(vt=>Z(vt.bind(s))):le&&Z(le.bind(s))}if(he(Tu,f),he(zt,d),he(Cu,h),he(ul,m),he(ku,_),he(Su,k),he(Ou,F),he(Au,T),he($u,j),he(fl,x),he(ar,b),he(Pu,P),G(K))if(K.length){const Z=e.exposed||(e.exposed={});K.forEach(le=>{Object.defineProperty(Z,le,{get:()=>s[le],set:vt=>s[le]=vt})})}else e.exposed||(e.exposed={});w&&e.render===mt&&(e.render=w),se!=null&&(e.inheritAttrs=se),N&&(e.components=N),re&&(e.directives=re),P&&ll(e)}function Mu(e,t,s=mt){G(e)&&(e=Kr(e));for(const n in e){const r=e[n];let i;ye(r)?"default"in r?i=tt(r.from||n,r.default,!0):i=tt(r.from||n):i=tt(r),Pe(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Zi(e,t,s){lt(G(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function pl(e,t,s,n){let r=n.includes(".")?Pl(s,n):()=>s[n];if(Ee(e)){const i=t[e];Y(i)&&rs(r,i)}else if(Y(e))rs(r,e.bind(s));else if(ye(e))if(G(e))e.forEach(i=>pl(i,t,s,n));else{const i=Y(e.handler)?e.handler.bind(s):t[e.handler];Y(i)&&rs(r,i,e)}}function Ci(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(u=>Kn(l,u,o,!0)),Kn(l,t,o)),ye(t)&&i.set(t,l),l}function Kn(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Kn(e,i,s,!0),r&&r.forEach(o=>Kn(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=Uu[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Uu={data:eo,props:to,emits:to,methods:zs,computed:zs,beforeCreate:Ne,created:Ne,beforeMount:Ne,mounted:Ne,beforeUpdate:Ne,updated:Ne,beforeDestroy:Ne,beforeUnmount:Ne,destroyed:Ne,unmounted:Ne,activated:Ne,deactivated:Ne,errorCaptured:Ne,serverPrefetch:Ne,components:zs,directives:zs,watch:Fu,provide:eo,inject:Nu};function eo(e,t){return t?e?function(){return $e(Y(e)?e.call(this,this):e,Y(t)?t.call(this,this):t)}:t:e}function Nu(e,t){return zs(Kr(e),Kr(t))}function Kr(e){if(G(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ne(e,t){return e?[...new Set([].concat(e,t))]:t}function zs(e,t){return e?$e(Object.create(null),e,t):t}function to(e,t){return e?G(e)&&G(t)?[...new Set([...e,...t])]:$e(Object.create(null),Xi(e),Xi(t??{})):t}function Fu(e,t){if(!e)return t;if(!t)return e;const s=$e(Object.create(null),e);for(const n in t)s[n]=Ne(e[n],t[n]);return s}function gl(){return{app:null,config:{isNativeTag:$c,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bu=0;function Hu(e,t){return function(n,r=null){Y(n)||(n=$e({},n)),r!=null&&!ye(r)&&(r=null);const i=gl(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Bu++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Tf,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&Y(c.install)?(o.add(c),c.install(u,...f)):Y(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||te(n,r);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),f&&t?t(h,c):e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,ur(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(lt(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=ns;ns=u;try{return c()}finally{ns=f}}};return u}}let ns=null;function Mn(e,t){if(je){let s=je.provides;const n=je.parent&&je.parent.provides;n===s&&(s=je.provides=Object.create(n)),s[e]=t}}function tt(e,t,s=!1){const n=je||Oe;if(n||ns){const r=ns?ns._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Y(t)?t.call(n&&n.proxy):t}}function Vu(){return!!(je||Oe||ns)}const ml={},vl=()=>Object.create(ml),_l=e=>Object.getPrototypeOf(e)===ml;function qu(e,t,s,n=!1){const r={},i=vl();e.propsDefaults=Object.create(null),yl(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:qa(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Wu(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=oe(r),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(lr(e.emitsOptions,d))continue;const h=t[d];if(l)if(ue(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const m=st(d);r[m]=zr(l,a,m,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{yl(e,t,r,i)&&(u=!0);let c;for(const f in a)(!t||!ue(t,f)&&((c=qt(f))===f||!ue(t,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(r[f]=zr(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!ue(t,f))&&(delete i[f],u=!0)}u&&kt(e.attrs,"set","")}function yl(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Js(l))continue;const u=t[l];let c;r&&ue(r,c=st(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:lr(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=oe(s),u=a||pe;for(let c=0;c<i.length;c++){const f=i[c];s[f]=zr(r,l,f,u[f],e,!ue(u,f))}}return o}function zr(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=ue(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Y(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=bn(r);n=u[s]=l.call(null,t),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===qt(s))&&(n=!0))}return n}const Ku=new WeakMap;function bl(e,t,s=!1){const n=s?Ku:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!Y(e)){const c=f=>{l=!0;const[d,h]=bl(f,t,!0);$e(o,d),h&&a.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return ye(e)&&n.set(e,Ps),Ps;if(G(i))for(let c=0;c<i.length;c++){const f=st(i[c]);so(f)&&(o[f]=pe)}else if(i)for(const c in i){const f=st(c);if(so(f)){const d=i[c],h=o[f]=G(d)||Y(d)?{type:d}:$e({},d),m=h.type;let _=!1,k=!0;if(G(m))for(let O=0;O<m.length;++O){const x=m[O],R=Y(x)&&x.name;if(R==="Boolean"){_=!0;break}else R==="String"&&(k=!1)}else _=Y(m)&&m.name==="Boolean";h[0]=_,h[1]=k,(_||ue(h,"default"))&&a.push(f)}}const u=[o,a];return ye(e)&&n.set(e,u),u}function so(e){return e[0]!=="$"&&!Js(e)}const wl=e=>e[0]==="_"||e==="$stable",Pi=e=>G(e)?e.map(gt):[gt(e)],zu=(e,t,s)=>{if(t._n)return t;const n=ot((...r)=>Pi(t(...r)),s);return n._c=!1,n},kl=(e,t,s)=>{const n=e._ctx;for(const r in e){if(wl(r))continue;const i=e[r];if(Y(i))t[r]=zu(r,i,n);else if(i!=null){const o=Pi(i);t[r]=()=>o}}},Sl=(e,t)=>{const s=Pi(t);e.slots.default=()=>s},El=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},Gu=(e,t,s)=>{const n=e.slots=vl();if(e.vnode.shapeFlag&32){const r=t._;r?(El(n,t,s),s&&Sa(n,"_",r,!0)):kl(t,n)}else t&&Sl(e,t)},Ju=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=pe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:El(r,t,s):(i=!t.$stable,kl(t,r)),o=t}else t&&(Sl(e,t),o={default:1});if(i)for(const a in r)!wl(a)&&o[a]==null&&delete r[a]},Fe=uf;function Qu(e){return Yu(e)}function Yu(e,t){const s=sr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=mt,insertStaticContent:m}=e,_=(p,g,y,C=null,S=null,$=null,D=void 0,L=null,I=!!g.dynamicChildren)=>{if(p===g)return;p&&!es(p,g)&&(C=E(p),qe(p,S,$,!0),p=null),g.patchFlag===-2&&(I=!1,g.dynamicChildren=null);const{type:A,ref:z,shapeFlag:U}=g;switch(A){case cr:k(p,g,y,C);break;case Ve:O(p,g,y,C);break;case Un:p==null&&x(g,y,C,D);break;case Se:N(p,g,y,C,S,$,D,L,I);break;default:U&1?w(p,g,y,C,S,$,D,L,I):U&6?re(p,g,y,C,S,$,D,L,I):(U&64||U&128)&&A.process(p,g,y,C,S,$,D,L,I,q)}z!=null&&S&&Wn(z,p&&p.ref,$,g||p,!g)},k=(p,g,y,C)=>{if(p==null)n(g.el=a(g.children),y,C);else{const S=g.el=p.el;g.children!==p.children&&u(S,g.children)}},O=(p,g,y,C)=>{p==null?n(g.el=l(g.children||""),y,C):g.el=p.el},x=(p,g,y,C)=>{[p.el,p.anchor]=m(p.children,g,y,C,p.el,p.anchor)},R=({el:p,anchor:g},y,C)=>{let S;for(;p&&p!==g;)S=d(p),n(p,y,C),p=S;n(g,y,C)},b=({el:p,anchor:g})=>{let y;for(;p&&p!==g;)y=d(p),r(p),p=y;r(g)},w=(p,g,y,C,S,$,D,L,I)=>{g.type==="svg"?D="svg":g.type==="math"&&(D="mathml"),p==null?T(g,y,C,S,$,D,L,I):P(p,g,S,$,D,L,I)},T=(p,g,y,C,S,$,D,L)=>{let I,A;const{props:z,shapeFlag:U,transition:W,dirs:Q}=p;if(I=p.el=o(p.type,$,z&&z.is,z),U&8?c(I,p.children):U&16&&F(p.children,I,null,C,S,Sr(p,$),D,L),Q&&Gt(p,null,C,"created"),j(I,p,p.scopeId,D,C),z){for(const ge in z)ge!=="value"&&!Js(ge)&&i(I,ge,null,z[ge],$,C);"value"in z&&i(I,"value",null,z.value,$),(A=z.onVnodeBeforeMount)&&dt(A,C,p)}Q&&Gt(p,null,C,"beforeMount");const ie=Xu(S,W);ie&&W.beforeEnter(I),n(I,g,y),((A=z&&z.onVnodeMounted)||ie||Q)&&Fe(()=>{A&&dt(A,C,p),ie&&W.enter(I),Q&&Gt(p,null,C,"mounted")},S)},j=(p,g,y,C,S)=>{if(y&&h(p,y),C)for(let $=0;$<C.length;$++)h(p,C[$]);if(S){let $=S.subTree;if(g===$||Al($.type)&&($.ssContent===g||$.ssFallback===g)){const D=S.vnode;j(p,D,D.scopeId,D.slotScopeIds,S.parent)}}},F=(p,g,y,C,S,$,D,L,I=0)=>{for(let A=I;A<p.length;A++){const z=p[A]=L?Dt(p[A]):gt(p[A]);_(null,z,g,y,C,S,$,D,L)}},P=(p,g,y,C,S,$,D)=>{const L=g.el=p.el;let{patchFlag:I,dynamicChildren:A,dirs:z}=g;I|=p.patchFlag&16;const U=p.props||pe,W=g.props||pe;let Q;if(y&&Jt(y,!1),(Q=W.onVnodeBeforeUpdate)&&dt(Q,y,g,p),z&&Gt(g,p,y,"beforeUpdate"),y&&Jt(y,!0),(U.innerHTML&&W.innerHTML==null||U.textContent&&W.textContent==null)&&c(L,""),A?K(p.dynamicChildren,A,L,y,C,Sr(g,S),$):D||le(p,g,L,null,y,C,Sr(g,S),$,!1),I>0){if(I&16)se(L,U,W,y,S);else if(I&2&&U.class!==W.class&&i(L,"class",null,W.class,S),I&4&&i(L,"style",U.style,W.style,S),I&8){const ie=g.dynamicProps;for(let ge=0;ge<ie.length;ge++){const de=ie[ge],ze=U[de],Le=W[de];(Le!==ze||de==="value")&&i(L,de,ze,Le,S,y)}}I&1&&p.children!==g.children&&c(L,g.children)}else!D&&A==null&&se(L,U,W,y,S);((Q=W.onVnodeUpdated)||z)&&Fe(()=>{Q&&dt(Q,y,g,p),z&&Gt(g,p,y,"updated")},C)},K=(p,g,y,C,S,$,D)=>{for(let L=0;L<g.length;L++){const I=p[L],A=g[L],z=I.el&&(I.type===Se||!es(I,A)||I.shapeFlag&70)?f(I.el):y;_(I,A,z,null,C,S,$,D,!0)}},se=(p,g,y,C,S)=>{if(g!==y){if(g!==pe)for(const $ in g)!Js($)&&!($ in y)&&i(p,$,g[$],null,S,C);for(const $ in y){if(Js($))continue;const D=y[$],L=g[$];D!==L&&$!=="value"&&i(p,$,L,D,S,C)}"value"in y&&i(p,"value",g.value,y.value,S)}},N=(p,g,y,C,S,$,D,L,I)=>{const A=g.el=p?p.el:a(""),z=g.anchor=p?p.anchor:a("");let{patchFlag:U,dynamicChildren:W,slotScopeIds:Q}=g;Q&&(L=L?L.concat(Q):Q),p==null?(n(A,y,C),n(z,y,C),F(g.children||[],y,z,S,$,D,L,I)):U>0&&U&64&&W&&p.dynamicChildren?(K(p.dynamicChildren,W,y,S,$,D,L),(g.key!=null||S&&g===S.subTree)&&$i(p,g,!0)):le(p,g,y,z,S,$,D,L,I)},re=(p,g,y,C,S,$,D,L,I)=>{g.slotScopeIds=L,p==null?g.shapeFlag&512?S.ctx.activate(g,y,C,D,I):Ae(g,y,C,S,$,D,I):Ue(p,g,I)},Ae=(p,g,y,C,S,$,D)=>{const L=p.component=_f(p,C,S);if(ir(p)&&(L.ctx.renderer=q),yf(L,!1,D),L.asyncDep){if(S&&S.registerDep(L,he,D),!p.el){const I=L.subTree=te(Ve);O(null,I,g,y)}}else he(L,p,g,y,S,$,D)},Ue=(p,g,y)=>{const C=g.component=p.component;if(lf(p,g,y))if(C.asyncDep&&!C.asyncResolved){Z(C,g,y);return}else C.next=g,C.update();else g.el=p.el,C.vnode=g},he=(p,g,y,C,S,$,D)=>{const L=()=>{if(p.isMounted){let{next:U,bu:W,u:Q,parent:ie,vnode:ge}=p;{const Ge=Tl(p);if(Ge){U&&(U.el=ge.el,Z(p,U,D)),Ge.asyncDep.then(()=>{p.isUnmounted||L()});return}}let de=U,ze;Jt(p,!1),U?(U.el=ge.el,Z(p,U,D)):U=ge,W&&Ln(W),(ze=U.props&&U.props.onVnodeBeforeUpdate)&&dt(ze,ie,U,ge),Jt(p,!0);const Le=Er(p),nt=p.subTree;p.subTree=Le,_(nt,Le,f(nt.el),E(nt),p,S,$),U.el=Le.el,de===null&&cf(p,Le.el),Q&&Fe(Q,S),(ze=U.props&&U.props.onVnodeUpdated)&&Fe(()=>dt(ze,ie,U,ge),S)}else{let U;const{el:W,props:Q}=g,{bm:ie,m:ge,parent:de,root:ze,type:Le}=p,nt=Os(g);if(Jt(p,!1),ie&&Ln(ie),!nt&&(U=Q&&Q.onVnodeBeforeMount)&&dt(U,de,g),Jt(p,!0),W&&ke){const Ge=()=>{p.subTree=Er(p),ke(W,p.subTree,p,S,null)};nt&&Le.__asyncHydrate?Le.__asyncHydrate(W,p,Ge):Ge()}else{ze.ce&&ze.ce._injectChildStyle(Le);const Ge=p.subTree=Er(p);_(null,Ge,y,C,p,S,$),g.el=Ge.el}if(ge&&Fe(ge,S),!nt&&(U=Q&&Q.onVnodeMounted)){const Ge=g;Fe(()=>dt(U,de,Ge),S)}(g.shapeFlag&256||de&&Os(de.vnode)&&de.vnode.shapeFlag&256)&&p.a&&Fe(p.a,S),p.isMounted=!0,g=y=C=null}};p.scope.on();const I=p.effect=new Oa(L);p.scope.off();const A=p.update=I.run.bind(I),z=p.job=I.runIfDirty.bind(I);z.i=p,z.id=p.uid,I.scheduler=()=>Ei(z),Jt(p,!0),A()},Z=(p,g,y)=>{g.component=p;const C=p.vnode.props;p.vnode=g,p.next=null,Wu(p,g.props,C,y),Ju(p,g.children,y),Wt(),Wi(p),Kt()},le=(p,g,y,C,S,$,D,L,I=!1)=>{const A=p&&p.children,z=p?p.shapeFlag:0,U=g.children,{patchFlag:W,shapeFlag:Q}=g;if(W>0){if(W&128){Pt(A,U,y,C,S,$,D,L,I);return}else if(W&256){vt(A,U,y,C,S,$,D,L,I);return}}Q&8?(z&16&&Xe(A,S,$),U!==A&&c(y,U)):z&16?Q&16?Pt(A,U,y,C,S,$,D,L,I):Xe(A,S,$,!0):(z&8&&c(y,""),Q&16&&F(U,y,C,S,$,D,L,I))},vt=(p,g,y,C,S,$,D,L,I)=>{p=p||Ps,g=g||Ps;const A=p.length,z=g.length,U=Math.min(A,z);let W;for(W=0;W<U;W++){const Q=g[W]=I?Dt(g[W]):gt(g[W]);_(p[W],Q,y,null,S,$,D,L,I)}A>z?Xe(p,S,$,!0,!1,U):F(g,y,C,S,$,D,L,I,U)},Pt=(p,g,y,C,S,$,D,L,I)=>{let A=0;const z=g.length;let U=p.length-1,W=z-1;for(;A<=U&&A<=W;){const Q=p[A],ie=g[A]=I?Dt(g[A]):gt(g[A]);if(es(Q,ie))_(Q,ie,y,null,S,$,D,L,I);else break;A++}for(;A<=U&&A<=W;){const Q=p[U],ie=g[W]=I?Dt(g[W]):gt(g[W]);if(es(Q,ie))_(Q,ie,y,null,S,$,D,L,I);else break;U--,W--}if(A>U){if(A<=W){const Q=W+1,ie=Q<z?g[Q].el:C;for(;A<=W;)_(null,g[A]=I?Dt(g[A]):gt(g[A]),y,ie,S,$,D,L,I),A++}}else if(A>W)for(;A<=U;)qe(p[A],S,$,!0),A++;else{const Q=A,ie=A,ge=new Map;for(A=ie;A<=W;A++){const Je=g[A]=I?Dt(g[A]):gt(g[A]);Je.key!=null&&ge.set(Je.key,A)}let de,ze=0;const Le=W-ie+1;let nt=!1,Ge=0;const Ns=new Array(Le);for(A=0;A<Le;A++)Ns[A]=0;for(A=Q;A<=U;A++){const Je=p[A];if(ze>=Le){qe(Je,S,$,!0);continue}let ft;if(Je.key!=null)ft=ge.get(Je.key);else for(de=ie;de<=W;de++)if(Ns[de-ie]===0&&es(Je,g[de])){ft=de;break}ft===void 0?qe(Je,S,$,!0):(Ns[ft-ie]=A+1,ft>=Ge?Ge=ft:nt=!0,_(Je,g[ft],y,null,S,$,D,L,I),ze++)}const Fi=nt?Zu(Ns):Ps;for(de=Fi.length-1,A=Le-1;A>=0;A--){const Je=ie+A,ft=g[Je],Bi=Je+1<z?g[Je+1].el:C;Ns[A]===0?_(null,ft,y,Bi,S,$,D,L,I):nt&&(de<0||A!==Fi[de]?ut(ft,y,Bi,2):de--)}}},ut=(p,g,y,C,S=null)=>{const{el:$,type:D,transition:L,children:I,shapeFlag:A}=p;if(A&6){ut(p.component.subTree,g,y,C);return}if(A&128){p.suspense.move(g,y,C);return}if(A&64){D.move(p,g,y,q);return}if(D===Se){n($,g,y);for(let U=0;U<I.length;U++)ut(I[U],g,y,C);n(p.anchor,g,y);return}if(D===Un){R(p,g,y);return}if(C!==2&&A&1&&L)if(C===0)L.beforeEnter($),n($,g,y),Fe(()=>L.enter($),S);else{const{leave:U,delayLeave:W,afterLeave:Q}=L,ie=()=>n($,g,y),ge=()=>{U($,()=>{ie(),Q&&Q()})};W?W($,ie,ge):ge()}else n($,g,y)},qe=(p,g,y,C=!1,S=!1)=>{const{type:$,props:D,ref:L,children:I,dynamicChildren:A,shapeFlag:z,patchFlag:U,dirs:W,cacheIndex:Q}=p;if(U===-2&&(S=!1),L!=null&&Wn(L,null,y,p,!0),Q!=null&&(g.renderCache[Q]=void 0),z&256){g.ctx.deactivate(p);return}const ie=z&1&&W,ge=!Os(p);let de;if(ge&&(de=D&&D.onVnodeBeforeUnmount)&&dt(de,g,p),z&6)Sn(p.component,y,C);else{if(z&128){p.suspense.unmount(y,C);return}ie&&Gt(p,null,g,"beforeUnmount"),z&64?p.type.remove(p,g,y,q,C):A&&!A.hasOnce&&($!==Se||U>0&&U&64)?Xe(A,g,y,!1,!0):($===Se&&U&384||!S&&z&16)&&Xe(I,g,y),C&&ds(p)}(ge&&(de=D&&D.onVnodeUnmounted)||ie)&&Fe(()=>{de&&dt(de,g,p),ie&&Gt(p,null,g,"unmounted")},y)},ds=p=>{const{type:g,el:y,anchor:C,transition:S}=p;if(g===Se){hs(y,C);return}if(g===Un){b(p);return}const $=()=>{r(y),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:D,delayLeave:L}=S,I=()=>D(y,$);L?L(p.el,$,I):I()}else $()},hs=(p,g)=>{let y;for(;p!==g;)y=d(p),r(p),p=y;r(g)},Sn=(p,g,y)=>{const{bum:C,scope:S,job:$,subTree:D,um:L,m:I,a:A}=p;no(I),no(A),C&&Ln(C),S.stop(),$&&($.flags|=8,qe(D,p,g,y)),L&&Fe(L,g),Fe(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Xe=(p,g,y,C=!1,S=!1,$=0)=>{for(let D=$;D<p.length;D++)qe(p[D],g,y,C,S)},E=p=>{if(p.shapeFlag&6)return E(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),y=g&&g[Za];return y?d(y):g};let B=!1;const M=(p,g,y)=>{p==null?g._vnode&&qe(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,y),g._vnode=p,B||(B=!0,Wi(),Qa(),B=!1)},q={p:_,um:qe,m:ut,r:ds,mt:Ae,mc:F,pc:le,pbc:K,n:E,o:e};let fe,ke;return{render:M,hydrate:fe,createApp:Hu(M,fe)}}function Sr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Jt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function $i(e,t,s=!1){const n=e.children,r=t.children;if(G(n)&&G(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Dt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&$i(o,a)),a.type===cr&&(a.el=o.el)}}function Zu(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(r=s[s.length-1],e[r]<u){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Tl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Tl(t)}function no(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ef=Symbol.for("v-scx"),tf=()=>tt(ef);function rs(e,t,s){return Cl(e,t,s)}function Cl(e,t,s=pe){const{immediate:n,deep:r,flush:i,once:o}=s,a=$e({},s),l=t&&n||!t&&i!=="post";let u;if(hn){if(i==="sync"){const h=tf();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=mt,h.resume=mt,h.pause=mt,h}}const c=je;a.call=(h,m,_)=>lt(h,c,m,_);let f=!1;i==="post"?a.scheduler=h=>{Fe(h,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():Ei(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=gu(e,t,a);return hn&&(u?u.push(d):l&&d()),d}function sf(e,t,s){const n=this.proxy,r=Ee(e)?e.includes(".")?Pl(n,e):()=>n[e]:e.bind(n,n);let i;Y(t)?i=t:(i=t.handler,s=t);const o=bn(this),a=Cl(r,i.bind(n),s);return o(),a}function Pl(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const nf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${st(t)}Modifiers`]||e[`${qt(t)}Modifiers`];function rf(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||pe;let r=s;const i=t.startsWith("update:"),o=i&&nf(n,t.slice(7));o&&(o.trim&&(r=s.map(c=>Ee(c)?c.trim():c)),o.number&&(r=s.map(Ur)));let a,l=n[a=mr(t)]||n[a=mr(st(t))];!l&&i&&(l=n[a=mr(qt(t))]),l&&lt(l,e,6,r);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,lt(u,e,6,r)}}function $l(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Y(e)){const l=u=>{const c=$l(u,t,!0);c&&(a=!0,$e(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ye(e)&&n.set(e,null),null):(G(i)?i.forEach(l=>o[l]=null):$e(o,i),ye(e)&&n.set(e,o),o)}function lr(e,t){return!e||!Xn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ue(e,t[0].toLowerCase()+t.slice(1))||ue(e,qt(t))||ue(e,t))}function Er(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:m,inheritAttrs:_}=e,k=qn(e);let O,x;try{if(s.shapeFlag&4){const b=r||n,w=b;O=gt(u.call(w,b,c,f,h,d,m)),x=a}else{const b=t;O=gt(b.length>1?b(f,{attrs:a,slots:o,emit:l}):b(f,null)),x=t.props?a:of(a)}}catch(b){en.length=0,rr(b,e,1),O=te(Ve)}let R=O;if(x&&_!==!1){const b=Object.keys(x),{shapeFlag:w}=R;b.length&&w&7&&(i&&b.some(di)&&(x=af(x,i)),R=Vt(R,x,!1,!0))}return s.dirs&&(R=Vt(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(s.dirs):s.dirs),s.transition&&os(R,s.transition),O=R,qn(k),O}const of=e=>{let t;for(const s in e)(s==="class"||s==="style"||Xn(s))&&((t||(t={}))[s]=e[s]);return t},af=(e,t)=>{const s={};for(const n in e)(!di(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function lf(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?ro(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==n[d]&&!lr(u,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?ro(n,o,u):!0:!!o;return!1}function ro(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!lr(s,i))return!0}return!1}function cf({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Al=e=>e.__isSuspense;function uf(e,t){t&&t.pendingBranch?G(e)?t.effects.push(...e):t.effects.push(e):_u(e)}const Se=Symbol.for("v-fgt"),cr=Symbol.for("v-txt"),Ve=Symbol.for("v-cmt"),Un=Symbol.for("v-stc"),en=[];let Ye=null;function H(e=!1){en.push(Ye=e?null:[])}function ff(){en.pop(),Ye=en[en.length-1]||null}let fn=1;function io(e,t=!1){fn+=e,e<0&&Ye&&t&&(Ye.hasOnce=!0)}function Ol(e){return e.dynamicChildren=fn>0?Ye||Ps:null,ff(),fn>0&&Ye&&Ye.push(e),e}function V(e,t,s,n,r,i){return Ol(v(e,t,s,n,r,i,!0))}function ls(e,t,s,n,r){return Ol(te(e,t,s,n,r,!0))}function dn(e){return e?e.__v_isVNode===!0:!1}function es(e,t){return e.type===t.type&&e.key===t.key}const xl=({key:e})=>e??null,Nn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Pe(e)||Y(e)?{i:Oe,r:e,k:t,f:!!s}:e:null);function v(e,t=null,s=null,n=0,r=null,i=e===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xl(t),ref:t&&Nn(t),scopeId:Xa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Oe};return a?(Ai(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Ee(s)?8:16),fn>0&&!o&&Ye&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ye.push(l),l}const te=df;function df(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===Ru)&&(e=Ve),dn(e)){const a=Vt(e,t,!0);return s&&Ai(a,s),fn>0&&!i&&Ye&&(a.shapeFlag&6?Ye[Ye.indexOf(e)]=a:Ye.push(a)),a.patchFlag=-2,a}if(Ef(e)&&(e=e.__vccOpts),t){t=hf(t);let{class:a,style:l}=t;a&&!Ee(a)&&(t.class=Te(a)),ye(l)&&(ki(l)&&!G(l)&&(l=$e({},l)),t.style=gi(l))}const o=Ee(e)?1:Al(e)?128:el(e)?64:ye(e)?4:Y(e)?2:0;return v(e,t,s,n,r,o,i,!0)}function hf(e){return e?ki(e)||_l(e)?$e({},e):e:null}function Vt(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?gf(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&xl(u),ref:t&&t.ref?s&&i?G(i)?i.concat(Nn(t)):[i,Nn(t)]:Nn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vt(e.ssContent),ssFallback:e.ssFallback&&Vt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&os(c,l.clone(c)),c}function we(e=" ",t=0){return te(cr,null,e,t)}function pf(e,t){const s=te(Un,null,e);return s.staticCount=t,s}function _e(e="",t=!1){return t?(H(),ls(Ve,null,e)):te(Ve,null,e)}function gt(e){return e==null||typeof e=="boolean"?te(Ve):G(e)?te(Se,null,e.slice()):dn(e)?Dt(e):te(cr,null,String(e))}function Dt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vt(e)}function Ai(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(G(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Ai(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!_l(t)?t._ctx=Oe:r===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Y(t)?(t={default:t,_ctx:Oe},s=32):(t=String(t),n&64?(s=16,t=[we(t)]):s=8);e.children=t,e.shapeFlag|=s}function gf(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Te([t.class,n.class]));else if(r==="style")t.style=gi([t.style,n.style]);else if(Xn(r)){const i=t[r],o=n[r];o&&i!==o&&!(G(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function dt(e,t,s,n=null){lt(e,t,7,[s,n])}const mf=gl();let vf=0;function _f(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||mf,i={uid:vf++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bl(n,r),emitsOptions:$l(n,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:n.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=rf.bind(null,i),e.ce&&e.ce(i),i}let je=null;const Rl=()=>je||Oe;let zn,Gr;{const e=sr(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};zn=t("__VUE_INSTANCE_SETTERS__",s=>je=s),Gr=t("__VUE_SSR_SETTERS__",s=>hn=s)}const bn=e=>{const t=je;return zn(e),e.scope.on(),()=>{e.scope.off(),zn(t)}},oo=()=>{je&&je.scope.off(),zn(null)};function jl(e){return e.vnode.shapeFlag&4}let hn=!1;function yf(e,t=!1,s=!1){t&&Gr(t);const{props:n,children:r}=e.vnode,i=jl(e);qu(e,n,i,t),Gu(e,r,s);const o=i?bf(e,t):void 0;return t&&Gr(!1),o}function bf(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Lu);const{setup:n}=s;if(n){Wt();const r=e.setupContext=n.length>1?kf(e):null,i=bn(e),o=_n(n,e,0,[e.props,r]),a=ba(o);if(Kt(),i(),(a||e.sp)&&!Os(e)&&ll(e),a){if(o.then(oo,oo),t)return o.then(l=>{ao(e,l,t)}).catch(l=>{rr(l,e,0)});e.asyncDep=o}else ao(e,o,t)}else Il(e,t)}function ao(e,t,s){Y(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ye(t)&&(e.setupState=za(t)),Il(e,s)}let lo;function Il(e,t,s){const n=e.type;if(!e.render){if(!t&&lo&&!n.render){const r=n.template||Ci(e).template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,u=$e($e({isCustomElement:i,delimiters:a},o),l);n.render=lo(r,u)}}e.render=n.render||mt}{const r=bn(e);Wt();try{Du(e)}finally{Kt(),r()}}}const wf={get(e,t){return De(e,"get",""),e[t]}};function kf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,wf),slots:e.slots,emit:e.emit,expose:t}}function ur(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(za(Si(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Zs)return Zs[s](e)},has(t,s){return s in t||s in Zs}})):e.proxy}function Sf(e,t=!0){return Y(e)?e.displayName||e.name:e.name||t&&e.__name}function Ef(e){return Y(e)&&"__vccOpts"in e}const Ce=(e,t)=>hu(e,t,hn);function Oi(e,t,s){const n=arguments.length;return n===2?ye(t)&&!G(t)?dn(t)?te(e,null,[t]):te(e,t):te(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&dn(s)&&(s=[s]),te(e,t,s))}const Tf="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jr;const co=typeof window<"u"&&window.trustedTypes;if(co)try{Jr=co.createPolicy("vue",{createHTML:e=>e})}catch{}const Ll=Jr?e=>Jr.createHTML(e):e=>e,Cf="http://www.w3.org/2000/svg",Pf="http://www.w3.org/1998/Math/MathML",bt=typeof document<"u"?document:null,uo=bt&&bt.createElement("template"),$f={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?bt.createElementNS(Cf,e):t==="mathml"?bt.createElementNS(Pf,e):s?bt.createElement(e,{is:s}):bt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>bt.createTextNode(e),createComment:e=>bt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{uo.innerHTML=Ll(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=uo.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},$t="transition",Bs="animation",Rs=Symbol("_vtc"),Dl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ml=$e({},rl,Dl),Af=e=>(e.displayName="Transition",e.props=Ml,e),Gn=Af((e,{slots:t})=>Oi(wu,Ul(e),t)),Qt=(e,t=[])=>{G(e)?e.forEach(s=>s(...t)):e&&e(...t)},fo=e=>e?G(e)?e.some(t=>t.length>1):e.length>1:!1;function Ul(e){const t={};for(const N in e)N in Dl||(t[N]=e[N]);if(e.css===!1)return t;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:d=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=e,m=Of(r),_=m&&m[0],k=m&&m[1],{onBeforeEnter:O,onEnter:x,onEnterCancelled:R,onLeave:b,onLeaveCancelled:w,onBeforeAppear:T=O,onAppear:j=x,onAppearCancelled:F=R}=t,P=(N,re,Ae,Ue)=>{N._enterCancelled=Ue,Ot(N,re?c:a),Ot(N,re?u:o),Ae&&Ae()},K=(N,re)=>{N._isLeaving=!1,Ot(N,f),Ot(N,h),Ot(N,d),re&&re()},se=N=>(re,Ae)=>{const Ue=N?j:x,he=()=>P(re,N,Ae);Qt(Ue,[re,he]),ho(()=>{Ot(re,N?l:i),ht(re,N?c:a),fo(Ue)||po(re,n,_,he)})};return $e(t,{onBeforeEnter(N){Qt(O,[N]),ht(N,i),ht(N,o)},onBeforeAppear(N){Qt(T,[N]),ht(N,l),ht(N,u)},onEnter:se(!1),onAppear:se(!0),onLeave(N,re){N._isLeaving=!0;const Ae=()=>K(N,re);ht(N,f),N._enterCancelled?(ht(N,d),Qr()):(Qr(),ht(N,d)),ho(()=>{N._isLeaving&&(Ot(N,f),ht(N,h),fo(b)||po(N,n,k,Ae))}),Qt(b,[N,Ae])},onEnterCancelled(N){P(N,!1,void 0,!0),Qt(R,[N])},onAppearCancelled(N){P(N,!0,void 0,!0),Qt(F,[N])},onLeaveCancelled(N){K(N),Qt(w,[N])}})}function Of(e){if(e==null)return null;if(ye(e))return[Tr(e.enter),Tr(e.leave)];{const t=Tr(e);return[t,t]}}function Tr(e){return jc(e)}function ht(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Rs]||(e[Rs]=new Set)).add(t)}function Ot(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[Rs];s&&(s.delete(t),s.size||(e[Rs]=void 0))}function ho(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xf=0;function po(e,t,s,n){const r=e._endId=++xf,i=()=>{r===e._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=Nl(e,t);if(!o)return n();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),e.addEventListener(u,d)}function Nl(e,t){const s=window.getComputedStyle(e),n=m=>(s[m]||"").split(", "),r=n(`${$t}Delay`),i=n(`${$t}Duration`),o=go(r,i),a=n(`${Bs}Delay`),l=n(`${Bs}Duration`),u=go(a,l);let c=null,f=0,d=0;t===$t?o>0&&(c=$t,f=o,d=i.length):t===Bs?u>0&&(c=Bs,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?$t:Bs:null,d=c?c===$t?i.length:l.length:0);const h=c===$t&&/\b(transform|all)(,|$)/.test(n(`${$t}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function go(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>mo(s)+mo(e[n])))}function mo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Qr(){return document.body.offsetHeight}function Rf(e,t,s){const n=e[Rs];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Jn=Symbol("_vod"),Fl=Symbol("_vsh"),jf={beforeMount(e,{value:t},{transition:s}){e[Jn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Hs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Hs(e,!0),n.enter(e)):n.leave(e,()=>{Hs(e,!1)}):Hs(e,t))},beforeUnmount(e,{value:t}){Hs(e,t)}};function Hs(e,t){e.style.display=t?e[Jn]:"none",e[Fl]=!t}const If=Symbol(""),Lf=/(^|;)\s*display\s*:/;function Df(e,t,s){const n=e.style,r=Ee(s);let i=!1;if(s&&!r){if(t)if(Ee(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Fn(n,a,"")}else for(const o in t)s[o]==null&&Fn(n,o,"");for(const o in s)o==="display"&&(i=!0),Fn(n,o,s[o])}else if(r){if(t!==s){const o=n[If];o&&(s+=";"+o),n.cssText=s,i=Lf.test(s)}}else t&&e.removeAttribute("style");Jn in e&&(e[Jn]=i?n.display:"",e[Fl]&&(n.display="none"))}const vo=/\s*!important$/;function Fn(e,t,s){if(G(s))s.forEach(n=>Fn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Mf(e,t);vo.test(s)?e.setProperty(qt(n),s.replace(vo,""),"important"):e[n]=s}}const _o=["Webkit","Moz","ms"],Cr={};function Mf(e,t){const s=Cr[t];if(s)return s;let n=st(t);if(n!=="filter"&&n in e)return Cr[t]=n;n=tr(n);for(let r=0;r<_o.length;r++){const i=_o[r]+n;if(i in e)return Cr[t]=i}return t}const yo="http://www.w3.org/1999/xlink";function bo(e,t,s,n,r,i=Nc(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(yo,t.slice(6,t.length)):e.setAttributeNS(yo,t,s):s==null||i&&!Ea(s)?e.removeAttribute(t):e.setAttribute(t,i?"":Tt(s)?String(s):s)}function wo(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ll(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Ea(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function Ts(e,t,s,n){e.addEventListener(t,s,n)}function Uf(e,t,s,n){e.removeEventListener(t,s,n)}const ko=Symbol("_vei");function Nf(e,t,s,n,r=null){const i=e[ko]||(e[ko]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=Ff(t);if(n){const u=i[t]=Vf(n,r);Ts(e,a,u,l)}else o&&(Uf(e,a,o,l),i[t]=void 0)}}const So=/(?:Once|Passive|Capture)$/;function Ff(e){let t;if(So.test(e)){t={};let n;for(;n=e.match(So);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):qt(e.slice(2)),t]}let Pr=0;const Bf=Promise.resolve(),Hf=()=>Pr||(Bf.then(()=>Pr=0),Pr=Date.now());function Vf(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;lt(qf(n,s.value),t,5,[n])};return s.value=e,s.attached=Hf(),s}function qf(e,t){if(G(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Wf=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?Rf(e,n,o):t==="style"?Df(e,s,n):Xn(t)?di(t)||Nf(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kf(e,t,n,o))?(wo(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&bo(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ee(n))?wo(e,st(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),bo(e,t,n,o))};function Kf(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Eo(t)&&Y(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Eo(t)&&Ee(s)?!1:t in e}const Bl=new WeakMap,Hl=new WeakMap,Qn=Symbol("_moveCb"),To=Symbol("_enterCb"),zf=e=>(delete e.props.mode,e),Gf=zf({name:"TransitionGroup",props:$e({},Ml,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Rl(),n=nl();let r,i;return ul(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Zf(r[0].el,s.vnode.el,o))return;r.forEach(Qf),r.forEach(Yf);const a=r.filter(Xf);Qr(),a.forEach(l=>{const u=l.el,c=u.style;ht(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Qn]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[Qn]=null,Ot(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=oe(e),a=Ul(o);let l=o.tag||Se;if(r=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(r.push(c),os(c,un(c,a,n,s)),Bl.set(c,c.el.getBoundingClientRect()))}i=t.default?Ti(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&os(c,un(c,a,n,s))}return te(l,null,i)}}}),Jf=Gf;function Qf(e){const t=e.el;t[Qn]&&t[Qn](),t[To]&&t[To]()}function Yf(e){Hl.set(e,e.el.getBoundingClientRect())}function Xf(e){const t=Bl.get(e),s=Hl.get(e),n=t.left-s.left,r=t.top-s.top;if(n||r){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${r}px)`,i.transitionDuration="0s",e}}function Zf(e,t,s){const n=e.cloneNode(),r=e[Rs];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=Nl(n);return i.removeChild(n),o}const Co=e=>{const t=e.props["onUpdate:modelValue"]||!1;return G(t)?s=>Ln(t,s):t};function ed(e){e.target.composing=!0}function Po(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $r=Symbol("_assign"),Ht={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[$r]=Co(r);const i=n||r.props&&r.props.type==="number";Ts(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=Ur(a)),e[$r](a)}),s&&Ts(e,"change",()=>{e.value=e.value.trim()}),t||(Ts(e,"compositionstart",ed),Ts(e,"compositionend",Po),Ts(e,"change",Po))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(e[$r]=Co(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ur(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},td=["ctrl","shift","alt","meta"],sd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>td.some(s=>e[`${s}Key`]&&!t.includes(s))},wn=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<t.length;o++){const a=sd[t[o]];if(a&&a(r,t))return}return e(r,...i)})},nd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yr=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const i=qt(r.key);if(t.some(o=>o===i||nd[o]===i))return e(r)})},rd=$e({patchProp:Wf},$f);let $o;function id(){return $o||($o=Qu(rd))}const od=(...e)=>{const t=id().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=ld(n);if(!r)return;const i=t._component;!Y(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,ad(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function ad(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ld(e){return Ee(e)?document.querySelector(e):e}var cd=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Vl;const fr=e=>Vl=e,ql=Symbol();function Xr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var tn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(tn||(tn={}));function ud(){const e=$a(!0),t=e.run(()=>X({}));let s=[],n=[];const r=Si({install(i){fr(r),r._a=i,i.provide(ql,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return!this._a&&!cd?n.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const Wl=()=>{};function Ao(e,t,s,n=Wl){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&Aa()&&Fc(r),r}function gs(e,...t){e.slice().forEach(s=>{s(...t)})}const fd=e=>e(),Oo=Symbol(),Ar=Symbol();function Zr(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],r=e[s];Xr(r)&&Xr(n)&&e.hasOwnProperty(s)&&!Pe(n)&&!Bt(n)?e[s]=Zr(r,n):e[s]=n}return e}const dd=Symbol();function hd(e){return!Xr(e)||!e.hasOwnProperty(dd)}const{assign:xt}=Object;function pd(e){return!!(Pe(e)&&e.effect)}function gd(e,t,s,n){const{state:r,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=r?r():{});const c=cu(s.state.value[e]);return xt(c,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=Si(Ce(()=>{fr(s);const h=s._s.get(e);return o[d].call(h,h)})),f),{}))}return l=Kl(e,u,t,s,n,!0),l}function Kl(e,t,s={},n,r,i){let o;const a=xt({actions:{}},s),l={deep:!0};let u,c,f=[],d=[],h;const m=n.state.value[e];!i&&!m&&(n.state.value[e]={}),X({});let _;function k(F){let P;u=c=!1,typeof F=="function"?(F(n.state.value[e]),P={type:tn.patchFunction,storeId:e,events:h}):(Zr(n.state.value[e],F),P={type:tn.patchObject,payload:F,storeId:e,events:h});const K=_=Symbol();yn().then(()=>{_===K&&(u=!0)}),c=!0,gs(f,P,n.state.value[e])}const O=i?function(){const{state:P}=s,K=P?P():{};this.$patch(se=>{xt(se,K)})}:Wl;function x(){o.stop(),f=[],d=[],n._s.delete(e)}const R=(F,P="")=>{if(Oo in F)return F[Ar]=P,F;const K=function(){fr(n);const se=Array.from(arguments),N=[],re=[];function Ae(Z){N.push(Z)}function Ue(Z){re.push(Z)}gs(d,{args:se,name:K[Ar],store:w,after:Ae,onError:Ue});let he;try{he=F.apply(this&&this.$id===e?this:w,se)}catch(Z){throw gs(re,Z),Z}return he instanceof Promise?he.then(Z=>(gs(N,Z),Z)).catch(Z=>(gs(re,Z),Promise.reject(Z))):(gs(N,he),he)};return K[Oo]=!0,K[Ar]=P,K},b={_p:n,$id:e,$onAction:Ao.bind(null,d),$patch:k,$reset:O,$subscribe(F,P={}){const K=Ao(f,F,P.detached,()=>se()),se=o.run(()=>rs(()=>n.state.value[e],N=>{(P.flush==="sync"?c:u)&&F({storeId:e,type:tn.direct,events:h},N)},xt({},l,P)));return K},$dispose:x},w=Ms(b);n._s.set(e,w);const j=(n._a&&n._a.runWithContext||fd)(()=>n._e.run(()=>(o=$a()).run(()=>t({action:R}))));for(const F in j){const P=j[F];if(Pe(P)&&!pd(P)||Bt(P))i||(m&&hd(P)&&(Pe(P)?P.value=m[F]:Zr(P,m[F])),n.state.value[e][F]=P);else if(typeof P=="function"){const K=R(P,F);j[F]=K,a.actions[F]=P}}return xt(w,j),xt(oe(w),j),Object.defineProperty(w,"$state",{get:()=>n.state.value[e],set:F=>{k(P=>{xt(P,F)})}}),n._p.forEach(F=>{xt(w,o.run(()=>F({store:w,app:n._a,pinia:n,options:a})))}),m&&i&&s.hydrate&&s.hydrate(w.$state,m),u=!0,c=!0,w}/*! #__NO_SIDE_EFFECTS__ */function zl(e,t,s){let n,r;const i=typeof t=="function";typeof e=="string"?(n=e,r=i?s:t):(r=e,n=e.id);function o(a,l){const u=Vu();return a=a||(u?tt(ql,null):null),a&&fr(a),a=Vl,a._s.has(n)||(i?Kl(n,t,r,a):gd(n,r,a)),a._s.get(n)}return o.$id=n,o}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Cs=typeof document<"u";function Gl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function md(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Gl(e.default)}const ce=Object.assign;function Or(e,t){const s={};for(const n in t){const r=t[n];s[n]=ct(r)?r.map(e):e(r)}return s}const sn=()=>{},ct=Array.isArray,Jl=/#/g,vd=/&/g,_d=/\//g,yd=/=/g,bd=/\?/g,Ql=/\+/g,wd=/%5B/g,kd=/%5D/g,Yl=/%5E/g,Sd=/%60/g,Xl=/%7B/g,Ed=/%7C/g,Zl=/%7D/g,Td=/%20/g;function xi(e){return encodeURI(""+e).replace(Ed,"|").replace(wd,"[").replace(kd,"]")}function Cd(e){return xi(e).replace(Xl,"{").replace(Zl,"}").replace(Yl,"^")}function ei(e){return xi(e).replace(Ql,"%2B").replace(Td,"+").replace(Jl,"%23").replace(vd,"%26").replace(Sd,"`").replace(Xl,"{").replace(Zl,"}").replace(Yl,"^")}function Pd(e){return ei(e).replace(yd,"%3D")}function $d(e){return xi(e).replace(Jl,"%23").replace(bd,"%3F")}function Ad(e){return e==null?"":$d(e).replace(_d,"%2F")}function pn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Od=/\/$/,xd=e=>e.replace(Od,"");function xr(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=Ld(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:pn(o)}}function Rd(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function xo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function jd(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&js(t.matched[n],s.matched[r])&&ec(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function js(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ec(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Id(e[s],t[s]))return!1;return!0}function Id(e,t){return ct(e)?Ro(e,t):ct(t)?Ro(t,e):e===t}function Ro(e,t){return ct(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Ld(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const At={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gn;(function(e){e.pop="pop",e.push="push"})(gn||(gn={}));var nn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(nn||(nn={}));function Dd(e){if(!e)if(Cs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),xd(e)}const Md=/^[^#]+#/;function Ud(e,t){return e.replace(Md,"#")+t}function Nd(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const dr=()=>({left:window.scrollX,top:window.scrollY});function Fd(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=Nd(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function jo(e,t){return(history.state?history.state.position-t:-1)+e}const ti=new Map;function Bd(e,t){ti.set(e,t)}function Hd(e){const t=ti.get(e);return ti.delete(e),t}let Vd=()=>location.protocol+"//"+location.host;function tc(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),xo(l,"")}return xo(s,e)+n+r}function qd(e,t,s,n){let r=[],i=[],o=null;const a=({state:d})=>{const h=tc(e,location),m=s.value,_=t.value;let k=0;if(d){if(s.value=h,t.value=d,o&&o===m){o=null;return}k=_?d.position-_.position:0}else n(h);r.forEach(O=>{O(s.value,m,{delta:k,type:gn.pop,direction:k?k>0?nn.forward:nn.back:nn.unknown})})};function l(){o=s.value}function u(d){r.push(d);const h=()=>{const m=r.indexOf(d);m>-1&&r.splice(m,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(ce({},d.state,{scroll:dr()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Io(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?dr():null}}function Wd(e){const{history:t,location:s}=window,n={value:tc(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),d=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+l:Vd()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),r.value=u}catch(h){console.error(h),s[c?"replace":"assign"](d)}}function o(l,u){const c=ce({},t.state,Io(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=ce({},r.value,t.state,{forward:l,scroll:dr()});i(c.current,c,!0);const f=ce({},Io(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function Kd(e){e=Dd(e);const t=Wd(e),s=qd(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=ce({location:"",base:e,go:n,createHref:Ud.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function zd(e){return typeof e=="string"||e&&typeof e=="object"}function sc(e){return typeof e=="string"||typeof e=="symbol"}const nc=Symbol("");var Lo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Lo||(Lo={}));function Is(e,t){return ce(new Error,{type:e,[nc]:!0},t)}function yt(e,t){return e instanceof Error&&nc in e&&(t==null||!!(e.type&t))}const Do="[^/]+?",Gd={sensitive:!1,strict:!1,start:!0,end:!0},Jd=/[.+*?^${}()[\]/\\]/g;function Qd(e,t){const s=ce({},Gd,t),n=[];let r=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(s.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(Jd,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:_,optional:k,regexp:O}=d;i.push({name:m,repeatable:_,optional:k});const x=O||Do;if(x!==Do){h+=10;try{new RegExp(`(${x})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+b.message)}}let R=_?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(R=k&&u.length<2?`(?:/${R})`:"/"+R),k&&(R+="?"),r+=R,h+=20,k&&(h+=-8),_&&(h+=-20),x===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",m=i[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:m,repeatable:_,optional:k}=h,O=m in u?u[m]:"";if(ct(O)&&!_)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=ct(O)?O.join("/"):O;if(!x)if(k)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=x}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Yd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function rc(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=Yd(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Mo(n))return 1;if(Mo(r))return-1}return r.length-n.length}function Mo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Xd={type:0,value:""},Zd=/[a-zA-Z0-9_]/;function eh(e){if(!e)return[[]];if(e==="/")return[[Xd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${u}": ${h}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),s=1):d();break;case 4:d(),s=n;break;case 1:l==="("?s=2:Zd.test(l)?d():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function th(e,t,s){const n=Qd(eh(e.path),s),r=ce(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function sh(e,t){const s=[],n=new Map;t=Bo({strict:!1,end:!0,sensitive:!1},t);function r(f){return n.get(f)}function i(f,d,h){const m=!h,_=No(f);_.aliasOf=h&&h.record;const k=Bo(t,f),O=[_];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const w of b)O.push(No(ce({},_,{components:h?h.record.components:_.components,path:w,aliasOf:h?h.record:_})))}let x,R;for(const b of O){const{path:w}=b;if(d&&w[0]!=="/"){const T=d.record.path,j=T[T.length-1]==="/"?"":"/";b.path=d.record.path+(w&&j+w)}if(x=th(b,d,k),h?h.alias.push(x):(R=R||x,R!==x&&R.alias.push(x),m&&f.name&&!Fo(x)&&o(f.name)),ic(x)&&l(x),_.children){const T=_.children;for(let j=0;j<T.length;j++)i(T[j],x,h&&h.children[j])}h=h||x}return R?()=>{o(R)}:sn}function o(f){if(sc(f)){const d=n.get(f);d&&(n.delete(f),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(f);d>-1&&(s.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return s}function l(f){const d=ih(f,s);s.splice(d,0,f),f.record.name&&!Fo(f)&&n.set(f.record.name,f)}function u(f,d){let h,m={},_,k;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw Is(1,{location:f});k=h.record.name,m=ce(Uo(d.params,h.keys.filter(R=>!R.optional).concat(h.parent?h.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),f.params&&Uo(f.params,h.keys.map(R=>R.name))),_=h.stringify(m)}else if(f.path!=null)_=f.path,h=s.find(R=>R.re.test(_)),h&&(m=h.parse(_),k=h.record.name);else{if(h=d.name?n.get(d.name):s.find(R=>R.re.test(d.path)),!h)throw Is(1,{location:f,currentLocation:d});k=h.record.name,m=ce({},d.params,f.params),_=h.stringify(m)}const O=[];let x=h;for(;x;)O.unshift(x.record),x=x.parent;return{name:k,path:_,params:m,matched:O,meta:rh(O)}}e.forEach(f=>i(f));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Uo(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function No(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:nh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function nh(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Fo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rh(e){return e.reduce((t,s)=>ce(t,s.meta),{})}function Bo(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function ih(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;rc(e,t[i])<0?n=i:s=i+1}const r=oh(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function oh(e){let t=e;for(;t=t.parent;)if(ic(t)&&rc(e,t)===0)return t}function ic({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ah(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Ql," "),o=i.indexOf("="),a=pn(o<0?i:i.slice(0,o)),l=o<0?null:pn(i.slice(o+1));if(a in t){let u=t[a];ct(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Ho(e){let t="";for(let s in e){const n=e[s];if(s=Pd(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(ct(n)?n.map(i=>i&&ei(i)):[n&&ei(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function lh(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=ct(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const ch=Symbol(""),Vo=Symbol(""),hr=Symbol(""),Ri=Symbol(""),si=Symbol("");function Vs(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Mt(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(Is(4,{from:s,to:t})):d instanceof Error?l(d):zd(d)?l(Is(2,{from:t,to:d})):(o&&n.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>e.call(n&&n.instances[r],t,s,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function Rr(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Gl(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Mt(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=md(c)?c.default:c;o.mods[a]=c,o.components[a]=f;const h=(f.__vccOpts||f)[t];return h&&Mt(h,s,n,o,a,r)()}))}}return i}function qo(e){const t=tt(hr),s=tt(Ri),n=Ce(()=>{const l=J(e.to);return t.resolve(l)}),r=Ce(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=s.matched;if(!c||!f.length)return-1;const d=f.findIndex(js.bind(null,c));if(d>-1)return d;const h=Wo(l[u-2]);return u>1&&Wo(c)===h&&f[f.length-1].path!==h?f.findIndex(js.bind(null,l[u-2])):d}),i=Ce(()=>r.value>-1&&hh(s.params,n.value.params)),o=Ce(()=>r.value>-1&&r.value===s.matched.length-1&&ec(s.params,n.value.params));function a(l={}){if(dh(l)){const u=t[J(e.replace)?"replace":"push"](J(e.to)).catch(sn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Ce(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function uh(e){return e.length===1?e[0]:e}const fh=Ie({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qo,setup(e,{slots:t}){const s=Ms(qo(e)),{options:n}=tt(hr),r=Ce(()=>({[Ko(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ko(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&uh(t.default(s));return e.custom?i:Oi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),ni=fh;function dh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function hh(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!ct(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Wo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ko=(e,t,s)=>e??t??s,ph=Ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=tt(si),r=Ce(()=>e.route||n.value),i=tt(Vo,0),o=Ce(()=>{let u=J(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=Ce(()=>r.value.matched[o.value]);Mn(Vo,Ce(()=>o.value+1)),Mn(ch,a),Mn(si,r);const l=X();return rs(()=>[l.value,a.value,e.name],([u,c,f],[d,h,m])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!js(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,f=a.value,d=f&&f.components[c];if(!d)return zo(s.default,{Component:d,route:u});const h=f.props[c],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,k=Oi(d,ce({},m,t,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return zo(s.default,{Component:k,route:u})||k}}});function zo(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const oc=ph;function gh(e){const t=sh(e.routes,e),s=e.parseQuery||ah,n=e.stringifyQuery||Ho,r=e.history,i=Vs(),o=Vs(),a=Vs(),l=ou(At);let u=At;Cs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Or.bind(null,E=>""+E),f=Or.bind(null,Ad),d=Or.bind(null,pn);function h(E,B){let M,q;return sc(E)?(M=t.getRecordMatcher(E),q=B):q=E,t.addRoute(q,M)}function m(E){const B=t.getRecordMatcher(E);B&&t.removeRoute(B)}function _(){return t.getRoutes().map(E=>E.record)}function k(E){return!!t.getRecordMatcher(E)}function O(E,B){if(B=ce({},B||l.value),typeof E=="string"){const g=xr(s,E,B.path),y=t.resolve({path:g.path},B),C=r.createHref(g.fullPath);return ce(g,y,{params:d(y.params),hash:pn(g.hash),redirectedFrom:void 0,href:C})}let M;if(E.path!=null)M=ce({},E,{path:xr(s,E.path,B.path).path});else{const g=ce({},E.params);for(const y in g)g[y]==null&&delete g[y];M=ce({},E,{params:f(g)}),B.params=f(B.params)}const q=t.resolve(M,B),fe=E.hash||"";q.params=c(d(q.params));const ke=Rd(n,ce({},E,{hash:Cd(fe),path:q.path})),p=r.createHref(ke);return ce({fullPath:ke,hash:fe,query:n===Ho?lh(E.query):E.query||{}},q,{redirectedFrom:void 0,href:p})}function x(E){return typeof E=="string"?xr(s,E,l.value.path):ce({},E)}function R(E,B){if(u!==E)return Is(8,{from:B,to:E})}function b(E){return j(E)}function w(E){return b(ce(x(E),{replace:!0}))}function T(E){const B=E.matched[E.matched.length-1];if(B&&B.redirect){const{redirect:M}=B;let q=typeof M=="function"?M(E):M;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=x(q):{path:q},q.params={}),ce({query:E.query,hash:E.hash,params:q.path!=null?{}:E.params},q)}}function j(E,B){const M=u=O(E),q=l.value,fe=E.state,ke=E.force,p=E.replace===!0,g=T(M);if(g)return j(ce(x(g),{state:typeof g=="object"?ce({},fe,g.state):fe,force:ke,replace:p}),B||M);const y=M;y.redirectedFrom=B;let C;return!ke&&jd(n,q,M)&&(C=Is(16,{to:y,from:q}),ut(q,q,!0,!1)),(C?Promise.resolve(C):K(y,q)).catch(S=>yt(S)?yt(S,2)?S:Pt(S):le(S,y,q)).then(S=>{if(S){if(yt(S,2))return j(ce({replace:p},x(S.to),{state:typeof S.to=="object"?ce({},fe,S.to.state):fe,force:ke}),B||y)}else S=N(y,q,!0,p,fe);return se(y,q,S),S})}function F(E,B){const M=R(E,B);return M?Promise.reject(M):Promise.resolve()}function P(E){const B=hs.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(E):E()}function K(E,B){let M;const[q,fe,ke]=mh(E,B);M=Rr(q.reverse(),"beforeRouteLeave",E,B);for(const g of q)g.leaveGuards.forEach(y=>{M.push(Mt(y,E,B))});const p=F.bind(null,E,B);return M.push(p),Xe(M).then(()=>{M=[];for(const g of i.list())M.push(Mt(g,E,B));return M.push(p),Xe(M)}).then(()=>{M=Rr(fe,"beforeRouteUpdate",E,B);for(const g of fe)g.updateGuards.forEach(y=>{M.push(Mt(y,E,B))});return M.push(p),Xe(M)}).then(()=>{M=[];for(const g of ke)if(g.beforeEnter)if(ct(g.beforeEnter))for(const y of g.beforeEnter)M.push(Mt(y,E,B));else M.push(Mt(g.beforeEnter,E,B));return M.push(p),Xe(M)}).then(()=>(E.matched.forEach(g=>g.enterCallbacks={}),M=Rr(ke,"beforeRouteEnter",E,B,P),M.push(p),Xe(M))).then(()=>{M=[];for(const g of o.list())M.push(Mt(g,E,B));return M.push(p),Xe(M)}).catch(g=>yt(g,8)?g:Promise.reject(g))}function se(E,B,M){a.list().forEach(q=>P(()=>q(E,B,M)))}function N(E,B,M,q,fe){const ke=R(E,B);if(ke)return ke;const p=B===At,g=Cs?history.state:{};M&&(q||p?r.replace(E.fullPath,ce({scroll:p&&g&&g.scroll},fe)):r.push(E.fullPath,fe)),l.value=E,ut(E,B,M,p),Pt()}let re;function Ae(){re||(re=r.listen((E,B,M)=>{if(!Sn.listening)return;const q=O(E),fe=T(q);if(fe){j(ce(fe,{replace:!0,force:!0}),q).catch(sn);return}u=q;const ke=l.value;Cs&&Bd(jo(ke.fullPath,M.delta),dr()),K(q,ke).catch(p=>yt(p,12)?p:yt(p,2)?(j(ce(x(p.to),{force:!0}),q).then(g=>{yt(g,20)&&!M.delta&&M.type===gn.pop&&r.go(-1,!1)}).catch(sn),Promise.reject()):(M.delta&&r.go(-M.delta,!1),le(p,q,ke))).then(p=>{p=p||N(q,ke,!1),p&&(M.delta&&!yt(p,8)?r.go(-M.delta,!1):M.type===gn.pop&&yt(p,20)&&r.go(-1,!1)),se(q,ke,p)}).catch(sn)}))}let Ue=Vs(),he=Vs(),Z;function le(E,B,M){Pt(E);const q=he.list();return q.length?q.forEach(fe=>fe(E,B,M)):console.error(E),Promise.reject(E)}function vt(){return Z&&l.value!==At?Promise.resolve():new Promise((E,B)=>{Ue.add([E,B])})}function Pt(E){return Z||(Z=!E,Ae(),Ue.list().forEach(([B,M])=>E?M(E):B()),Ue.reset()),E}function ut(E,B,M,q){const{scrollBehavior:fe}=e;if(!Cs||!fe)return Promise.resolve();const ke=!M&&Hd(jo(E.fullPath,0))||(q||!M)&&history.state&&history.state.scroll||null;return yn().then(()=>fe(E,B,ke)).then(p=>p&&Fd(p)).catch(p=>le(p,E,B))}const qe=E=>r.go(E);let ds;const hs=new Set,Sn={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:_,resolve:O,options:e,push:b,replace:w,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:he.add,isReady:vt,install(E){const B=this;E.component("RouterLink",ni),E.component("RouterView",oc),E.config.globalProperties.$router=B,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>J(l)}),Cs&&!ds&&l.value===At&&(ds=!0,b(r.location).catch(fe=>{}));const M={};for(const fe in At)Object.defineProperty(M,fe,{get:()=>l.value[fe],enumerable:!0});E.provide(hr,B),E.provide(Ri,qa(M)),E.provide(si,l);const q=E.unmount;hs.add(E),E.unmount=function(){hs.delete(E),hs.size<1&&(u=At,re&&re(),re=null,l.value=At,ds=!1,Z=!1),q()}}};function Xe(E){return E.reduce((B,M)=>B.then(()=>P(M)),Promise.resolve())}return Sn}function mh(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>js(u,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>js(u,l))||r.push(l))}return[s,n,r]}function ji(){return tt(hr)}function ac(e){return tt(Ri)}const vh="modulepreload",_h=function(e){return"/task-management-system/"+e},Go={},Ls=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=_h(l),l in Go)return;Go[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":vh,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ls(async()=>{const{default:n}=await Promise.resolve().then(()=>Us);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Ii extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class bh extends Ii{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wh extends Ii{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kh extends Ii{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ri;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ri||(ri={}));var Sh=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Eh{constructor(t,{headers:s={},customFetch:n,region:r=ri.Any}={}){this.url=t,this.headers=s,this.region=r,this.fetch=yh(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return Sh(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(m=>{throw new bh(m)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new wh(c);if(!c.ok)throw new kh(c);let d=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield c.json():d==="application/octet-stream"?h=yield c.blob():d==="text/event-stream"?h=c:d==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(r){return{data:null,error:r}}})}}function Th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ch(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}var xe={},ms={},vs={},_s={},ys={},bs={},Ph=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ds=Ph();const $h=Ds.fetch,lc=Ds.fetch.bind(Ds),cc=Ds.Headers,Ah=Ds.Request,Oh=Ds.Response,Us=Object.freeze(Object.defineProperty({__proto__:null,Headers:cc,Request:Ah,Response:Oh,default:lc,fetch:$h},Symbol.toStringTag,{value:"Module"})),xh=Ch(Us);var An={},Jo;function uc(){if(Jo)return An;Jo=1,Object.defineProperty(An,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return An.default=e,An}var Qo;function fc(){if(Qo)return bs;Qo=1;var e=bs&&bs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bs,"__esModule",{value:!0});const t=e(xh),s=e(uc());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,f,d;let h=null,m=null,_=null,k=u.status,O=u.statusText;if(u.ok){if(this.method!=="HEAD"){const w=await u.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=w:m=JSON.parse(w))}const R=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),b=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");R&&b&&b.length>1&&(_=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,_=null,k=406,O="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const R=await u.text();try{h=JSON.parse(R),Array.isArray(h)&&u.status===404&&(m=[],h=null,k=200,O="OK")}catch{u.status===404&&R===""?(k=204,O="No Content"):h={message:R}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,k=200,O="OK"),h&&this.shouldThrowOnError)throw new s.default(h)}return{error:h,data:m,count:_,status:k,statusText:O}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,f,d;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return bs.default=n,bs}var Yo;function dc(){if(Yo)return ys;Yo=1;var e=ys&&ys.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ys,"__esModule",{value:!0});const t=e(fc());class s extends t.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const f=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${f};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ys.default=s,ys}var Xo;function Li(){if(Xo)return _s;Xo=1;var e=_s&&_s.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_s,"__esModule",{value:!0});const t=e(dc());class s extends t.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return _s.default=s,_s}var Zo;function hc(){if(Zo)return vs;Zo=1;var e=vs&&vs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vs,"__esModule",{value:!0});const t=e(Li());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const f=r.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(f.length>0){const d=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return vs.default=s,vs}var qs={},Ws={},ea;function Rh(){return ea||(ea=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.version=void 0,Ws.version="0.0.0-automated"),Ws}var ta;function jh(){if(ta)return qs;ta=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.DEFAULT_HEADERS=void 0;const e=Rh();return qs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},qs}var sa;function Ih(){if(sa)return ms;sa=1;var e=ms&&ms.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ms,"__esModule",{value:!0});const t=e(hc()),s=e(Li()),n=jh();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let f;const d=new URL(`${this.url}/rpc/${o}`);let h;l||u?(f=l?"HEAD":"GET",Object.entries(a).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{d.searchParams.append(_,k)})):(f="POST",h=a);const m=Object.assign({},this.headers);return c&&(m.Prefer=`count=${c}`),new s.default({method:f,url:d,headers:m,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return ms.default=r,ms}var na;function Lh(){if(na)return xe;na=1;var e=xe&&xe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xe,"__esModule",{value:!0}),xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const t=e(Ih());xe.PostgrestClient=t.default;const s=e(hc());xe.PostgrestQueryBuilder=s.default;const n=e(Li());xe.PostgrestFilterBuilder=n.default;const r=e(dc());xe.PostgrestTransformBuilder=r.default;const i=e(fc());xe.PostgrestBuilder=i.default;const o=e(uc());return xe.PostgrestError=o.default,xe.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},xe}var Dh=Lh();const Mh=Th(Dh),{PostgrestClient:Uh,PostgrestQueryBuilder:Zv,PostgrestFilterBuilder:e_,PostgrestTransformBuilder:t_,PostgrestBuilder:s_,PostgrestError:n_}=Mh,Nh="2.11.2",Fh={"X-Client-Info":`realtime-js/${Nh}`},Bh="1.0.0",pc=1e4,Hh=1e3;var xs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xs||(xs={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var ii;(function(e){e.websocket="websocket"})(ii||(ii={}));var ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ts||(ts={}));class Vh{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+r));o=o+r;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class gc{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(me||(me={}));const ra=(e,t,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=qh(o,e,t,r),i),{})},qh=(e,t,s,n)=>{const r=t.find(a=>a.name===e),i=r==null?void 0:r.type,o=s[e];return i&&!n.includes(i)?mc(i,o):oi(o)},mc=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Gh(t,s)}switch(e){case me.bool:return Wh(t);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Kh(t);case me.json:case me.jsonb:return zh(t);case me.timestamp:return Jh(t);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return oi(t);default:return oi(t)}},oi=e=>e,Wh=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kh=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zh=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gh=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>mc(t,a))}return e},Jh=e=>typeof e=="string"?e.replace(" ","T"):e,vc=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jr{constructor(t,s,n={},r=pc){this.channel=t,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ia;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ia||(ia={}));class rn{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rn.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=rn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=rn.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,r){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const d=c.map(k=>k.presence_ref),h=f.map(k=>k.presence_ref),m=c.filter(k=>h.indexOf(k.presence_ref)<0),_=f.filter(k=>d.indexOf(k.presence_ref)<0);m.length>0&&(a[u]=m),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(t,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(h=>h.presence_ref),d=c.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,r(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const r=t[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oa;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oa||(oa={}));var aa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(aa||(aa={}));var wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class Di{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new jr(this,it.join,this.params,this.timeout),this.rejoinTimer=new gc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new rn(this),this.broadcastEndpointURL=vc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(wt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(wt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(wt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,m=[];for(let _=0;_<h;_++){const k=d[_],{filter:{event:O,schema:x,table:R,filter:b}}=k,w=c&&c[_];if(w&&w.event===O&&w.schema===x&&w.table===R&&w.filter===b)m.push(Object.assign(Object.assign({},k),{id:w.id}));else{this.unsubscribe(),t==null||t(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(wt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new jr(this,it.leave,{},t);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new jr(this,t,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=it;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,s,n);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var m,_,k;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(_=h.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(h=>h.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var m,_,k,O,x,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const b=h.id,w=(m=h.filter)===null||m===void 0?void 0:m.event;return b&&((_=s.ids)===null||_===void 0?void 0:_.includes(b))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(x=(O=h==null?void 0:h.filter)===null||O===void 0?void 0:O.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((R=s==null?void 0:s.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:_,table:k,commit_timestamp:O,type:x,errors:R}=m;d=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:O,eventType:x,new:{},old:{},errors:R}),this._getPayloadRecords(m))}h.callback(d,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const r=t.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Di.isEqual(r.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=ra(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=ra(t.columns,t.old_record)),s}}const Qh=()=>{},Yh=typeof WebSocket<"u",Xh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zh{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Fh,this.params={},this.timeout=pc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Qh,this.conn=null,this.sendBuffer=[],this.serializer=new Vh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ls(async()=>{const{default:l}=await Promise.resolve().then(()=>Us);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ii.websocket}`,this.httpEndpoint=vc(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Yh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ep(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ls(async()=>{const{default:t}=await import("./browser-aXP-8aj8.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bh}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return ts.Connecting;case xs.open:return ts.Open;case xs.closing:return ts.Closing;default:return ts.Closed}}isConnected(){return this.connectionState()===ts.Open}channel(t,s={config:{}}){const n=new Di(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Hh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${t}${n}${r}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([Xh],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class ep{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Mi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Re(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tp extends Mi{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ai extends Mi{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var sp=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const _c=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ls(async()=>{const{default:n}=await Promise.resolve().then(()=>Us);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},np=()=>sp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ls(()=>Promise.resolve().then(()=>Us),void 0)).Response:Response}),li=e=>{if(Array.isArray(e))return e.map(s=>li(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=li(n)}),t};var cs=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rp=(e,t,s)=>cs(void 0,void 0,void 0,function*(){const n=yield np();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(r=>{t(new tp(Ir(r),e.status||500))}).catch(r=>{t(new ai(Ir(r),r))}):t(new ai(Ir(e),e))}),ip=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function kn(e,t,s,n,r,i){return cs(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,ip(t,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>rp(l,a,n))})})}function Yn(e,t,s,n){return cs(this,void 0,void 0,function*(){return kn(e,"GET",t,s,n)})}function Ut(e,t,s,n,r){return cs(this,void 0,void 0,function*(){return kn(e,"POST",t,n,r,s)})}function op(e,t,s,n,r){return cs(this,void 0,void 0,function*(){return kn(e,"PUT",t,n,r,s)})}function ap(e,t,s,n){return cs(this,void 0,void 0,function*(){return kn(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function yc(e,t,s,n,r){return cs(this,void 0,void 0,function*(){return kn(e,"DELETE",t,n,r,s)})}var We=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const lp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},la={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cp{constructor(t,s={},n,r){this.url=t,this.headers=s,this.bucketId=n,this.fetch=_c(r)}uploadOrUpdate(t,s,n,r){return We(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},la),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield f.json();return f.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(Re(i))return{data:null,error:i};throw i}})}upload(t,s,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,r){return We(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:la.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(Re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield Ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Mi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}update(t,s,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return We(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}copy(t,s,n){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}createSignedUrl(t,s,n){return We(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield Ut(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}createSignedUrls(t,s,n){return We(this,void 0,void 0,function*(){try{const r=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}download(t,s){return We(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Yn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Re(a))return{data:null,error:a};throw a}})}info(t){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield Yn(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:li(n),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}exists(t){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield ap(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Re(n)&&n instanceof ai){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return We(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}list(t,s,n){return We(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},lp),s),{prefix:t||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const up="2.7.1",fp={"X-Client-Info":`storage-js/${up}`};var ws=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class dp{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},fp),s),this.fetch=_c(n)}listBuckets(){return ws(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Re(t))return{data:null,error:t};throw t}})}getBucket(t){return ws(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return ws(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return ws(this,void 0,void 0,function*(){try{return{data:yield op(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ws(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}deleteBucket(t){return ws(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}}class hp extends dp{constructor(t,s={},n){super(t,s,n)}from(t){return new cp(this.url,this.headers,t,this.fetch)}}const pp="2.47.8";let Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";const gp={"X-Client-Info":`supabase-js-${Gs}/${pp}`},mp={headers:gp},vp={schema:"public"},_p={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yp={};var bp=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const wp=e=>{let t;return e?t=e:typeof fetch>"u"?t=lc:t=fetch,(...s)=>t(...s)},kp=()=>typeof Headers>"u"?cc:Headers,Sp=(e,t,s)=>{const n=wp(s),r=kp();return(i,o)=>bp(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Ep=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function Tp(e){return e.replace(/\/$/,"")}function Cp(e,t){const{db:s,auth:n,realtime:r,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>Ep(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const bc="2.67.1",Pp="http://localhost:9999",$p="supabase.auth.token",Ap={"X-Client-Info":`gotrue-js/${bc}`},ca=10,ci="X-Supabase-Api-Version",wc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Op(e){return Math.round(Date.now()/1e3)+e}function xp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rt=()=>typeof document<"u",Yt={tested:!1,writable:!1},on=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function Lr(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{t[r]=n}),t}const kc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ls(async()=>{const{default:n}=await Promise.resolve().then(()=>Us);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},Rp=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sc=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},On=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},xn=async(e,t)=>{await e.removeItem(t)};function jp(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),n=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class pr{constructor(){this.promise=new pr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}pr.promiseConstructor=Promise;function ua(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(jp(n))}async function Ip(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Lp(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function Dp(e){return("0"+e.toString(16)).substr(-2)}function Mp(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,Dp).join("")}async function Up(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function Np(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fp(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Up(e);return Np(s)}async function ks(e,t,s=!1){const n=Mp();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Sc(e,`${t}-code-verifier`,r);const i=await Fp(n);return[i,n===i?"plain":"s256"]}const Bp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hp(e){const t=e.headers.get(ci);if(!t||!t.match(Bp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Ui extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Vp extends Ui{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function qp(e){return ee(e)&&e.name==="AuthApiError"}class Ec extends Ui{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class us extends Ui{constructor(t,s,n,r){super(t,n,r),this.name=s,this.status=n}}class Rt extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wp(e){return ee(e)&&e.name==="AuthSessionMissingError"}class Dr extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rn extends us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jn extends us{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kp(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class fa extends us{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ui extends us{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Mr(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class da extends us{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var zp=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const Zt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gp=[502,503,504];async function ha(e){var t;if(!Rp(e))throw new ui(Zt(e),0);if(Gp.includes(e.status))throw new ui(Zt(e),e.status);let s;try{s=await e.json()}catch(i){throw new Ec(Zt(i),i)}let n;const r=Hp(e);if(r&&r.getTime()>=wc["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new da(Zt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new da(Zt(s),e.status,s.weak_password.reasons);throw new Vp(Zt(s),e.status||500,n)}const Jp=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function ne(e,t,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[ci]||(i[ci]=wc["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Qp(e,t,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Qp(e,t,s,n,r,i){const o=Jp(t,n,r,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new ui(Zt(l),0)}if(a.ok||await ha(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ha(l)}}function jt(e){var t;let s=null;eg(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Op(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function pa(e){const t=jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Yp(e){return{data:e,error:null}}function Xp(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=e,o=zp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Zp(e){return e}function eg(e){return e.access_token&&e.refresh_token&&e.expires_in}var tg=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};class sg{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=kc(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Nt})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=tg(t,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Xp,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nt})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Zp});if(c.error)throw c.error;const f=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);u[`${k}Page`]=_}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nt})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Nt})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Nt})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}}const ng={getItem:e=>on()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{on()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{on()&&globalThis.localStorage.removeItem(e)}};function ga(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function rg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ss={debug:!!(globalThis&&on()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tc extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ig extends Tc{}async function og(e,t,s){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ig(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ss.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}rg();const ag={url:Pp,storageKey:$p,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ap,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ks=30*1e3,ma=3;async function va(e,t,s){return await s()}class mn{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mn.nextInstanceID,mn.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},ag),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new sg({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=kc(r.fetch),this.lock=r.lock||va,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:rt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=og:this.lock=va,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:on()?this.storage=ng:(this.memoryStorage={},this.storage=ga(this.memoryStorage)):(this.memoryStorage={},this.storage=ga(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bc}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=rt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",s),s||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Kp(r)){const a=(t=r.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?{error:s}:{error:new Ec("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,r;try{const i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:jt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,n,r;try{let i;if("email"in t){const{email:c,password:f,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await ks(this.storage,this.storageKey)),i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:m},xform:jt})}else if("phone"in t){const{phone:c,password:f,options:d}=t;i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:jt})}else throw new Rn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pa})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pa})}else throw new Rn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Dr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await On(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jt});if(await xn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Dr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(ee(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=t,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Dr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ks(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Rn("You must provide either an email or phone number.")}catch(a){if(ee(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let r,i;"options"in t&&(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:jt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ks(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Yp})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Rt;const{error:r}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:a}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Rn("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Nt})})}catch(s){if(ee(s))return Wp(s)&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Rt;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ks(this.storage,this.storageKey));const{data:u,error:c}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Nt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return ua(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rt;const s=Date.now()/1e3;let n=s,r=!0,i=null;const o=ua(t.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(ee(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rt;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t){try{if(!rt())throw new jn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new jn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new fa("Not a valid PKCE flow url.");const s=Lr(window.location.href);if(t){if(!s.code)throw new fa("No code detected.");const{data:x,error:R}=await this._exchangeCodeForSession(s.code);if(R)throw R;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new jn(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new jn("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let d=c+f;l&&(d=parseInt(l));const h=d-c;h*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const m=d-f;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:_,error:k}=await this._getUser(i);if(k)throw k;const O={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:s.type},error:null}}catch(s){if(ee(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const t=Lr(window.location.href);return!!(rt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Lr(window.location.href),s=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(qp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=xp(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await ks(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:d}=i;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return rt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ee(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Lp(async r=>(r>0&&await Ip(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Mr(i)&&Date.now()+o-n<Ks})}catch(n){if(this._debug(s,"error",n),ee(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),rt()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await On(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<r+ca;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ca}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Mr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new pr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),ee(i)){const o={session:null,error:i};return Mr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,s,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sc(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await xn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ks}ms, refresh threshold is ${ma} ticks`),r<=ma&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tc)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ks(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}mn.nextInstanceID=0;const lg=mn;class cg extends lg{constructor(t){super(t)}}var ug=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class fg{constructor(t,s,n){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Tp(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:vp,realtime:yp,auth:Object.assign(Object.assign({},_p),{storageKey:l}),global:mp},c=Cp(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Sp(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Uh(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Eh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hp(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return ug(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){var f;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cg({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(t){return new Zh(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dg=(e,t,s)=>new fg(e,t,s),hg="https://tvpsgxlszzuitvloogqt.supabase.co",pg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR2cHNneGxzenp1aXR2bG9vZ3F0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ0NjIwMjcsImV4cCI6MjA1MDAzODAyN30.M4jR0sumnF1ldm3y1fcjprUmTw53cEQ5owATeyayCXc",be=dg(hg,pg),gr=zl("auth",()=>{const e=X(null),t=X(!1),s=X(null);async function n(){try{t.value=!0;const{error:o}=await be.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://restartyourlife.github.io/task-management-system/"}});if(o)throw o}catch(o){s.value=o instanceof Error?o.message:"Failed to sign in"}finally{t.value=!1}}async function r(){try{t.value=!0;const{error:o}=await be.auth.signOut();if(o)throw o;e.value=null}catch(o){s.value=o instanceof Error?o.message:"Failed to sign out"}finally{t.value=!1}}async function i(){const{data:{user:o}}=await be.auth.getUser();e.value=o,be.auth.onAuthStateChange((a,l)=>{e.value=(l==null?void 0:l.user)??null})}return{user:e,loading:t,error:s,signInWithGitHub:n,signOut:r,init:i}}),gg={key:0,class:"auth-button"},mg={class:"user-info"},vg=["src","alt"],_g={class:"user-name"},yg=["disabled"],bg={key:0,class:"loading-spinner"},wg={key:1},kg=Ie({__name:"AuthButton",setup(e){const t=gr(),s=ji(),n=async()=>{try{await t.signOut(),s.push({name:"login"})}catch(r){console.error("Error signing out:",r)}};return(r,i)=>J(t).user?(H(),V("div",gg,[v("div",mg,[v("img",{src:J(t).user.user_metadata.avatar_url,alt:J(t).user.user_metadata.full_name},null,8,vg),v("span",_g,ae(J(t).user.user_metadata.full_name),1),v("button",{onClick:n,disabled:J(t).loading,class:"sign-out-button"},[J(t).loading?(H(),V("span",bg)):(H(),V("span",wg,"Sign Out"))],8,yg)])])):_e("",!0)}}),Ke=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},Sg=Ke(kg,[["__scopeId","data-v-60d24567"]]),Eg={class:"app-container"},Tg={class:"app-header"},Cg={class:"header-content"},Pg={class:"app-main"},$g=Ie({__name:"App",setup(e){const t=gr();return zt(()=>{t.init()}),(s,n)=>(H(),V("div",Eg,[v("header",Tg,[v("div",Cg,[n[0]||(n[0]=v("h1",{class:"app-title"},"Task Manager",-1)),te(Sg)])]),v("main",Pg,[te(J(oc))])]))}}),fs=zl("tasks",()=>{const e=X([]),t=X(null),s=X([]),n=X(!1),r=X(null),i=X(""),o=X(new Set),a=X({search:"",tags:[],status:null,priority:null}),l=X({field:"createdAt",order:"desc"}),u=Ce(()=>{const b=new Set;return e.value.forEach(w=>{var T;(T=w.tags)==null||T.forEach(j=>b.add(j))}),Array.from(b).sort()}),c=Ce(()=>e.value.filter(b=>{const w=!a.value.search||b.title.toLowerCase().includes(a.value.search.toLowerCase())||b.description.toLowerCase().includes(a.value.search.toLowerCase()),T=a.value.tags.length===0||b.tags&&a.value.tags.some(P=>b.tags.includes(P)),j=!a.value.status||b.status===a.value.status,F=!a.value.priority||b.priority===a.value.priority;return w&&T&&j&&F}).sort((b,w)=>{const{field:T,order:j}=l.value,F=j==="asc"?1:-1;return T==="createdAt"?(new Date(b.created_at).getTime()-new Date(w.created_at).getTime())*F:(b[T]>w[T]?1:-1)*F}));async function f(){try{n.value=!0;const{data:b,error:w}=await be.from("workspaces").select("*").order("created_at",{ascending:!1});if(w)throw w;s.value=b}catch(b){r.value=b instanceof Error?b.message:"Failed to fetch workspaces"}finally{n.value=!1}}async function d(b,w){try{n.value=!0;const{data:{user:T}}=await be.auth.getUser();if(!T)throw new Error("User not authenticated");const{data:j,error:F}=await be.from("workspaces").insert({name:b,description:w,owner_id:T.id}).select().single();if(F)throw F;return j&&(s.value=[j,...s.value]),j}catch(T){throw r.value=T instanceof Error?T.message:"Failed to create workspace",T}finally{n.value=!1}}async function h(b,w,T){try{const{data:j,error:F}=await be.from("profiles").select("id").eq("email",w).single();if(F||!j)throw new Error("User not found");const{error:P}=await be.from("workspace_members").insert({workspace_id:b,user_id:j.id,role:T});if(P)throw P}catch(j){throw r.value=j instanceof Error?j.message:"Failed to invite user",j}}async function m(){try{n.value=!0;const{data:{user:b}}=await be.auth.getUser();if(!b)throw new Error("User not authenticated");const w=be.from("tasks").select(`
          *,
          workspace:workspace_id (
            name,
            description
          )
        `);if(t.value)w.eq("workspace_id",t.value.id);else{const F=s.value.map(P=>P.id);F.length>0?w.or(`workspace_id.is.null,workspace_id.in.(${F.join(",")})`):w.is("workspace_id",null)}const{data:T,error:j}=await w.order("created_at",{ascending:!1});if(j)throw j;e.value=T||[]}catch(b){r.value=b instanceof Error?b.message:"Failed to fetch tasks",e.value=[]}finally{n.value=!1}}async function _(b){try{if(!t.value)throw new Error("Please select a workspace first");n.value=!0;const{data:{user:w}}=await be.auth.getUser();if(!w)throw new Error("User not authenticated");const{data:T,error:j}=await be.from("tasks").insert([{...b,user_id:w.id,workspace_id:t.value.id}]).select().single();if(j)throw j;T&&e.value.unshift(T)}catch(w){throw r.value=w instanceof Error?w.message:"Unknown error occurred",w}finally{n.value=!1}}function k(b){a.value={...a.value,...b}}function O(b,w){l.value={field:b,order:w}}async function x(b,w){try{if(!b)throw new Error("Task ID is required");const T=Object.fromEntries(Object.entries(w).filter(([,P])=>P!=null&&P!==""));if(Object.keys(T).length===0)return;n.value=!0;const{data:j,error:F}=await be.from("tasks").update(T).eq("id",b).select().single();if(F)throw F;if(j){const P=e.value.findIndex(K=>K.id===b);P!==-1&&(e.value[P]=j)}return j}catch(T){throw r.value=T instanceof Error?T.message:"Failed to update task",T}finally{n.value=!1}}async function R(b){try{o.value.add(b),i.value="Deleting task...",n.value=!0;const{error:w}=await be.from("tasks").delete().eq("id",b);if(w)throw w;e.value=e.value.filter(T=>T.id!==b)}catch(w){r.value=w instanceof Error?w.message:"Unknown error occurred"}finally{o.value.delete(b),n.value=!1,i.value=""}}return{tasks:e,filteredTasks:c,availableTags:u,loading:n,error:r,filters:a,sortConfig:l,fetchTasks:m,addTask:_,updateTask:x,deleteTask:R,setFilters:k,setSorting:O,loadingMessage:i,deletingTaskIds:o,workspaces:s,currentWorkspace:t,fetchWorkspaces:f,createWorkspace:d,inviteToWorkspace:h}}),Ag={key:0,class:"loading-overlay"},Og={class:"message"},xg=Ie({__name:"LoadingOverlay",props:{show:{type:Boolean}},setup(e){return(t,s)=>(H(),ls(Gn,{name:"fade"},{default:ot(()=>[t.show?(H(),V("div",Ag,[s[1]||(s[1]=v("div",{class:"spinner"},null,-1)),v("div",Og,[Iu(t.$slots,"default",{},()=>[s[0]||(s[0]=we("Loading..."))],!0)])])):_e("",!0)]),_:3}))}}),Rg=Ke(xg,[["__scopeId","data-v-b4e4e75b"]]),jg={key:0,class:"options-list"},Ig=["onClick"],Lg=Ie({__name:"CustomSelect",props:{modelValue:{},options:{},disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=t,r=X(!1),i=Ce(()=>s.options.find(l=>typeof l.value=="object"&&l.value!==null?typeof s.modelValue=="object"&&s.modelValue!==null&&l.value.id===s.modelValue.id:l.value===s.modelValue));function o(l){return typeof l=="object"&&l!==null?l.id:String(l)}function a(l){n("update:modelValue",l),r.value=!1}return(l,u)=>{var c;return H(),V("div",{class:Te(["custom-select",{open:r.value}])},[v("div",{class:Te(["select-header",{disabled:l.disabled}]),onClick:u[0]||(u[0]=f=>!l.disabled&&(r.value=!r.value))},[v("span",null,ae(((c=i.value)==null?void 0:c.label)||"Select..."),1),u[1]||(u[1]=v("i",{class:"fas fa-chevron-down"},null,-1))],2),te(Gn,{name:"select"},{default:ot(()=>[r.value?(H(),V("div",jg,[(H(!0),V(Se,null,as(l.options,f=>(H(),V("div",{key:o(f.value),class:Te(["option",{active:f===i.value}]),onClick:d=>a(f.value)},ae(f.label),11,Ig))),128))])):_e("",!0)]),_:1})],2)}}}),vn=Ke(Lg,[["__scopeId","data-v-493eb88b"]]),Dg={class:"filters-sidebar"},Mg={class:"filters-header"},Ug={class:"filter-section"},Ng={class:"search-box"},Fg={class:"filter-section"},Bg={class:"filter-section"},Hg={class:"filter-section"},Vg={class:"tags-grid"},qg=["onClick"],Wg={class:"tag-text"},Kg={key:0,class:"tag-remove"},zg=Ie({__name:"TaskFilters",setup(e){const t=fs(),s=[{value:null,label:"All Statuses"},{value:"todo",label:"To Do"},{value:"in-progress",label:"In Progress"},{value:"done",label:"Done"}],n=[{value:null,label:"All Priorities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],r=Ce(()=>t.filters.search||t.filters.status||t.filters.priority||t.filters.tags.length>0);function i(){t.filters.search="",t.filters.status=null,t.filters.priority=null,t.filters.tags=[]}function o(a){t.filters.tags.includes(a)?t.filters.tags=t.filters.tags.filter(l=>l!==a):t.filters.tags.push(a)}return(a,l)=>(H(),V("div",Dg,[v("div",Mg,[l[4]||(l[4]=v("h3",null,"Filters",-1)),r.value?(H(),V("button",{key:0,onClick:i,class:"clear-filters"},l[3]||(l[3]=[v("i",{class:"fas fa-times"},null,-1),we(" Clear ")]))):_e("",!0)]),v("div",Ug,[v("div",Ng,[l[5]||(l[5]=v("i",{class:"fas fa-search search-icon"},null,-1)),Et(v("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=u=>J(t).filters.search=u),placeholder:"Search tasks...",class:"search-input"},null,512),[[Ht,J(t).filters.search]])])]),v("div",Fg,[l[6]||(l[6]=v("h4",null,"Status",-1)),te(vn,{modelValue:J(t).filters.status,"onUpdate:modelValue":l[1]||(l[1]=u=>J(t).filters.status=u),options:s},null,8,["modelValue"])]),v("div",Bg,[l[7]||(l[7]=v("h4",null,"Priority",-1)),te(vn,{modelValue:J(t).filters.priority,"onUpdate:modelValue":l[2]||(l[2]=u=>J(t).filters.priority=u),options:n},null,8,["modelValue"])]),v("div",Hg,[l[9]||(l[9]=v("h4",null,"Tags",-1)),v("div",Vg,[(H(!0),V(Se,null,as(J(t).availableTags,u=>(H(),V("button",{key:u,class:Te(["tag-chip",{active:J(t).filters.tags.includes(u)}]),onClick:c=>o(u)},[v("span",Wg,ae(u),1),J(t).filters.tags.includes(u)?(H(),V("span",Kg,l[8]||(l[8]=[v("i",{class:"fas fa-times"},null,-1)]))):_e("",!0)],10,qg))),128))])])]))}}),Gg=Ke(zg,[["__scopeId","data-v-8f8dab3c"]]),Jg={class:"sort-container"},Qg={class:"header-content"},Yg={key:0,class:"active-sort"},Xg={key:0,class:"sort-options"},Zg=["onClick"],em={class:"button-content"},tm=Ie({__name:"TaskSort",setup(e){const t=fs(),s=X(!0),n=[{field:"title",label:"Title",icon:"fa-font"},{field:"createdAt",label:"Date",icon:"fa-calendar"},{field:"priority",label:"Priority",icon:"fa-flag"},{field:"status",label:"Status",icon:"fa-tasks"}];function r(i){t.sortConfig.field===i?t.setSorting(i,t.sortConfig.order==="asc"?"desc":"asc"):t.setSorting(i,"asc")}return(i,o)=>{var a;return H(),V("div",Jg,[v("div",{class:"sort-header",onClick:o[0]||(o[0]=l=>s.value=!s.value)},[v("div",Qg,[o[1]||(o[1]=v("i",{class:"fas fa-sort-amount-down"},null,-1)),o[2]||(o[2]=v("span",null,"Sort by",-1)),J(t).sortConfig.field?(H(),V("div",Yg,[we(ae((a=n.find(l=>l.field===J(t).sortConfig.field))==null?void 0:a.label)+" ",1),v("i",{class:Te(["fas",J(t).sortConfig.order==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)])):_e("",!0)]),v("i",{class:Te(["fas toggle-icon",s.value?"fa-chevron-up":"fa-chevron-down"])},null,2)]),s.value?(H(),V("div",Xg,[(H(),V(Se,null,as(n,l=>v("button",{key:l.field,class:Te(["sort-button",{active:J(t).sortConfig.field===l.field}]),onClick:u=>r(l.field)},[v("div",em,[v("i",{class:Te(["fas",l.icon])},null,2),v("span",null,ae(l.label),1)]),J(t).sortConfig.field===l.field?(H(),V("i",{key:0,class:Te(["fas",J(t).sortConfig.order==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)):_e("",!0)],10,Zg)),64))])):_e("",!0)])}}}),sm=Ke(tm,[["__scopeId","data-v-18254ed7"]]),nm={class:"comment-header"},rm={class:"user-info"},im=["src","alt"],om={class:"user-details"},am={class:"username"},lm=["datetime"],cm={key:0,class:"comment-actions"},um={key:0,class:"comment-content"},fm={key:1,class:"comment-edit"},dm=["onKeyup"],hm={class:"edit-actions"},pm=Ie({__name:"TaskComment",props:{comment:{},canEdit:{type:Boolean}},emits:["update","delete"],setup(e,{emit:t}){const s=e,n=t,r=X(!1),i=X(s.comment.content),o=X();rs(r,f=>{f&&o.value&&yn(()=>{var d;(d=o.value)==null||d.focus()})});function a(){i.value.trim()&&(n("update",s.comment.id,i.value),r.value=!1)}function l(){confirm("Are you sure you want to delete this comment?")&&n("delete",s.comment.id)}function u(f){const h=new Date().getTime()-new Date(f).getTime(),m=Math.floor(h/6e4),_=Math.floor(m/60),k=Math.floor(_/24);return m<1?"just now":m<60?`${m}m ago`:_<24?`${_}h ago`:k<7?`${k}d ago`:new Date(f).toLocaleDateString()}const c=Ce(()=>{try{if(!s.comment.created_at)return"";const f=new Date(s.comment.created_at);return isNaN(f.getTime())?"":u(f)}catch(f){return console.error("Error formatting date:",f),""}});return(f,d)=>{var h,m,_;return H(),V("div",{class:Te(["comment",{"is-editing":r.value}])},[v("div",nm,[v("div",rm,[v("img",{src:((h=f.comment.author)==null?void 0:h.avatar_url)||"",alt:((m=f.comment.author)==null?void 0:m.full_name)||"User",class:"avatar"},null,8,im),v("div",om,[v("span",am,ae(((_=f.comment.author)==null?void 0:_.full_name)||"Anonymous"),1),v("time",{datetime:f.comment.created_at},ae(c.value),9,lm)])]),f.canEdit?(H(),V("div",cm,[r.value?_e("",!0):(H(),V("button",{key:0,onClick:d[0]||(d[0]=k=>r.value=!0),class:"action-btn edit-btn"},d[4]||(d[4]=[v("i",{class:"fas fa-edit"},null,-1)]))),v("button",{onClick:l,class:"action-btn delete-btn"},d[5]||(d[5]=[v("i",{class:"fas fa-trash"},null,-1)]))])):_e("",!0)]),r.value?(H(),V("div",fm,[Et(v("textarea",{"onUpdate:modelValue":d[1]||(d[1]=k=>i.value=k),onKeyup:[Yr(wn(a,["ctrl"]),["enter"]),d[2]||(d[2]=Yr(k=>r.value=!1,["esc"]))],ref_key:"editTextarea",ref:o},null,40,dm),[[Ht,i.value]]),v("div",hm,[v("button",{onClick:a,class:"save-btn"},d[6]||(d[6]=[v("i",{class:"fas fa-check"},null,-1),we(" Save ")])),v("button",{onClick:d[3]||(d[3]=k=>r.value=!1),class:"cancel-btn"},d[7]||(d[7]=[v("i",{class:"fas fa-times"},null,-1),we(" Cancel ")]))])])):(H(),V("div",um,ae(f.comment.content),1))],2)}}}),gm=Ke(pm,[["__scopeId","data-v-9f62bccc"]]),mm={class:"comments-section"},vm={class:"comments-header"},_m={key:0,class:"comments-count"},ym={key:0,class:"new-comment"},bm={class:"comment-input-header"},wm=["src","alt"],km=["onKeyup","disabled"],Sm={class:"comment-actions"},Em=["disabled"],Tm={class:"loading",key:"loading"},Cm={class:"no-comments",key:"no-comments"},Pm=Ie({__name:"TaskComments",props:{taskId:{}},setup(e){const t=e,s=gr(),n=X([]),r=X(""),i=X(!1),o=X(!0),a=X(!1);async function l(){try{i.value=!0;const{data:d,error:h}=await be.from("comments").select(`
        *,
        author:user_id (
          full_name,
          avatar_url
        )
      `).eq("task_id",t.taskId).order("created_at",{ascending:!0});if(h)throw h;console.log("Raw comments data:",d),n.value=d.map(m=>{var _,k;return{...m,userMetadata:{fullName:((_=m.author)==null?void 0:_.full_name)||"Anonymous",avatarUrl:((k=m.author)==null?void 0:k.avatar_url)||""}}}),console.log("Processed comments:",n.value)}catch(d){console.error("Error loading comments:",d)}finally{i.value=!1}}async function u(){if(!(!r.value.trim()||a.value))try{a.value=!0;const{error:d}=await be.from("profiles").upsert({id:s.user.id,full_name:s.user.user_metadata.full_name,avatar_url:s.user.user_metadata.avatar_url});if(d)throw d;const{data:h,error:m}=await be.from("comments").insert([{task_id:t.taskId,user_id:s.user.id,content:r.value.trim()}]).select(`
        *,
        author:user_id (
          full_name,
          avatar_url
        )
      `).single();if(m)throw m;n.value.push(h),r.value=""}catch(d){console.error("Error adding comment:",d)}finally{a.value=!1}}async function c(d,h){var m,_;try{const{data:k,error:O}=await be.from("comments").update({content:h}).eq("id",d).select(`
        *,
        author:user_id (
          full_name,
          avatar_url
        )
      `).single();if(O)throw O;const x=n.value.findIndex(R=>R.id===d);x!==-1&&(n.value[x]={...k,userMetadata:{fullName:(m=k.author)==null?void 0:m.full_name,avatarUrl:(_=k.author)==null?void 0:_.avatar_url}})}catch(k){console.error("Error updating comment:",k)}}async function f(d){try{const{error:h}=await be.from("comments").delete().eq("id",d);if(h)throw h;n.value=n.value.filter(m=>m.id!==d)}catch(h){console.error("Error deleting comment:",h)}}return zt(l),(d,h)=>(H(),V("div",mm,[v("div",vm,[v("h3",null,[h[2]||(h[2]=we(" Comments ")),n.value.length?(H(),V("span",_m," ("+ae(n.value.length)+") ",1)):_e("",!0)]),n.value.length?(H(),V("button",{key:0,class:"toggle-comments",onClick:h[0]||(h[0]=m=>o.value=!o.value)},[we(ae(o.value?"Hide":"Show")+" ",1),v("i",{class:Te(["fas",o.value?"fa-chevron-up":"fa-chevron-down"])},null,2)])):_e("",!0)]),J(s).user?(H(),V("div",ym,[v("div",bm,[v("img",{src:J(s).user.user_metadata.avatar_url,alt:J(s).user.user_metadata.full_name,class:"user-avatar"},null,8,wm),h[3]||(h[3]=v("span",{class:"hint"},"Press Ctrl+Enter to submit",-1))]),Et(v("textarea",{"onUpdate:modelValue":h[1]||(h[1]=m=>r.value=m),placeholder:"Write a comment...",onKeyup:Yr(wn(u,["ctrl"]),["enter"]),disabled:a.value},null,40,km),[[Ht,r.value]]),v("div",Sm,[v("button",{onClick:u,disabled:!r.value.trim()||a.value,class:"submit-button"},[h[4]||(h[4]=v("i",{class:"fas fa-paper-plane"},null,-1)),we(" "+ae(a.value?"Sending...":"Comment"),1)],8,Em)])])):_e("",!0),Et(te(Jf,{name:"comment-list",tag:"div",class:"comments-list"},{default:ot(()=>[i.value?(H(),V("div",Tm,h[5]||(h[5]=[v("i",{class:"fas fa-spinner fa-spin"},null,-1),we(" Loading comments... ")]))):n.value.length===0?(H(),V("div",Cm,h[6]||(h[6]=[v("i",{class:"far fa-comments"},null,-1),v("p",null,"No comments yet. Be the first to comment!",-1)]))):(H(!0),V(Se,{key:2},as(n.value,m=>{var _;return H(),ls(gm,{key:m.id,comment:m,"can-edit":m.user_id===((_=J(s).user)==null?void 0:_.id),onUpdate:c,onDelete:f},null,8,["comment","can-edit"])}),128))]),_:1},512),[[jf,o.value||!n.value.length]])]))}}),$m=Ke(Pm,[["__scopeId","data-v-dd227372"]]),Am={class:"workspace-selector"},Om={class:"select-wrapper"},xm=Ie({__name:"WorkspaceSelector",setup(e){const t=fs(),s=Ce(()=>[{value:null,label:"All Workspaces"},...t.workspaces.map(n=>({value:n,label:n.name}))]);return rs(()=>t.currentWorkspace,async()=>{await t.fetchTasks()}),zt(()=>{t.fetchWorkspaces()}),(n,r)=>(H(),V("div",Am,[v("div",Om,[r[1]||(r[1]=v("i",{class:"fas fa-folder"},null,-1)),te(vn,{modelValue:J(t).currentWorkspace,"onUpdate:modelValue":r[0]||(r[0]=i=>J(t).currentWorkspace=i),options:s.value,disabled:J(t).loading},null,8,["modelValue","options","disabled"])])]))}}),Rm=Ke(xm,[["__scopeId","data-v-b9be59d7"]]),jm={class:"create-workspace"},Im={key:0,class:"error-message"},Lm={class:"form-group"},Dm={class:"form-group"},Mm=["disabled"],Um=Ie({__name:"CreateWorkspace",emits:["created"],setup(e,{emit:t}){const s=t,n=fs(),r=X(""),i=X(""),o=X(""),a=X(!1);async function l(){try{if(!r.value.trim()){o.value="Workspace name is required";return}a.value=!0;const u=await n.createWorkspace(r.value,i.value);n.currentWorkspace=u,await n.fetchTasks(),s("created")}catch(u){o.value=u instanceof Error?u.message:"Failed to create workspace"}finally{a.value=!1}}return(u,c)=>(H(),V("div",jm,[c[3]||(c[3]=v("h3",null,"Create New Workspace",-1)),o.value?(H(),V("div",Im,ae(o.value),1)):_e("",!0),v("form",{onSubmit:wn(l,["prevent"])},[v("div",Lm,[Et(v("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f),placeholder:"Workspace name",required:""},null,512),[[Ht,r.value]])]),v("div",Dm,[Et(v("textarea",{"onUpdate:modelValue":c[1]||(c[1]=f=>i.value=f),placeholder:"Description (optional)"},null,512),[[Ht,i.value]])]),v("button",{type:"submit",disabled:a.value},[c[2]||(c[2]=v("i",{class:"fas fa-plus"},null,-1)),we(" "+ae(a.value?"Creating...":"Create Workspace"),1)],8,Mm)],32)]))}}),Nm=Ke(Um,[["__scopeId","data-v-da8a4988"]]),Fm={class:"task-list"},Bm={class:"workspace-header"},Hm={key:0,class:"error-message"},Vm={class:"list-container"},qm={class:"tasks-content"},Wm={class:"tasks-table"},Km={class:"title-cell"},zm=["onClick"],Gm={key:2,class:"description-popup"},Jm={class:"popup-content"},Qm={key:0,class:"tags-list"},Ym={class:"actions-cell"},Xm=["onClick","disabled"],Zm=["onClick"],ev={key:0,class:"modal-wrapper"},tv={class:"modal-container"},sv={class:"modal-header"},nv={class:"modal-content"},rv={key:0,class:"modal-wrapper"},iv={class:"modal-container"},ov={class:"modal-header"},av={class:"modal-content"},lv=Ie({__name:"TaskList",setup(e){const t=fs(),s=X(null),n=Ms({}),r=X(!1);zt(()=>{t.fetchWorkspaces(),t.fetchTasks(),document.addEventListener("click",l)});function i(u){s.value===u?(s.value=null,document.body.classList.remove("modal-open")):(s.value=u,document.body.classList.add("modal-open"))}function o(){Object.keys(n).forEach(u=>{n[u]=!1})}function a(u,c){c.stopPropagation();const f=n[u];o(),n[u]=!f,n[u]&&yn(()=>{const h=c.currentTarget.getBoundingClientRect(),m=document.querySelector(".description-popup");if(m){const _=window.innerHeight,k=window.innerWidth;let O=h.bottom+10,x=h.left;O+m.offsetHeight>_&&(O=h.top-m.offsetHeight-10),x+m.offsetWidth>k&&(x=k-m.offsetWidth-20),m.style.top=`${O}px`,m.style.left=`${x}px`}})}function l(u){const c=document.querySelector(".description-popup"),f=document.querySelectorAll(".show-description-btn"),d=document.querySelector(".tasks-table");if(!(d!=null&&d.contains(u.target))&&c&&!c.contains(u.target)){let h=!1;f.forEach(m=>{m.contains(u.target)&&(h=!0)}),h||Object.keys(n).forEach(m=>{n[m]=!1})}}return ar(()=>{document.body.classList.remove("modal-open"),document.removeEventListener("click",l)}),(u,c)=>(H(),V("div",Fm,[v("div",Bm,[te(Rm),v("button",{class:"create-workspace-btn",onClick:c[0]||(c[0]=f=>r.value=!0)},c[6]||(c[6]=[v("i",{class:"fas fa-plus"},null,-1),we(" New Workspace ")]))]),te(Rg,{show:J(t).loading},{default:ot(()=>[J(t).loading?(H(),V(Se,{key:0},[we(ae(J(t).loadingMessage||"Loading tasks..."),1)],64)):_e("",!0)]),_:1},8,["show"]),J(t).error?(H(),V("div",Hm,ae(J(t).error),1)):_e("",!0),v("div",Vm,[te(Gg,{class:"filters-panel"}),v("div",qm,[te(sm),v("div",Wm,[v("table",null,[c[11]||(c[11]=v("thead",null,[v("tr",null,[v("th",null,"Title"),v("th",null,"Status"),v("th",null,"Priority"),v("th",null,"Tags"),v("th",null,"Actions")])],-1)),v("tbody",null,[(H(!0),V(Se,null,as(J(t).filteredTasks,f=>{var d;return H(),V("tr",{key:f.id,class:Te({deleting:J(t).deletingTaskIds.has(f.id)})},[v("td",Km,[v("h3",null,ae(f.title),1),f.description?(H(),V("button",{key:0,class:"show-description-btn",onClick:h=>a(f.id,h)},c[7]||(c[7]=[v("i",{class:"fas fa-align-left"},null,-1),we(" Description ")]),8,zm)):_e("",!0),Object.values(n).some(Boolean)?(H(),V("div",{key:1,class:"popup-overlay",onClick:o})):_e("",!0),n[f.id]?(H(),V("div",Gm,[v("div",Jm,[v("p",null,ae(f.description),1)])])):_e("",!0)]),v("td",null,[v("span",{class:Te(["status",f.status])},ae(f.status),3)]),v("td",null,[v("span",{class:Te(["priority",f.priority])},ae(f.priority),3)]),v("td",null,[(d=f.tags)!=null&&d.length?(H(),V("div",Qm,[(H(!0),V(Se,null,as(f.tags,h=>(H(),V("span",{key:h,class:"tag"},ae(h),1))),128))])):_e("",!0)]),v("td",Ym,[te(J(ni),{to:`/tasks/${f.id}/edit`,class:"edit-button"},{default:ot(()=>c[8]||(c[8]=[v("i",{class:"fas fa-edit"},null,-1)])),_:2},1032,["to"]),v("button",{onClick:h=>J(t).deleteTask(f.id),class:"delete-button",disabled:J(t).deletingTaskIds.has(f.id)},c[9]||(c[9]=[v("i",{class:"fas fa-trash"},null,-1)]),8,Xm),v("button",{onClick:wn(h=>i(f.id),["stop"]),class:Te(["comments-button",{active:s.value===f.id}])},c[10]||(c[10]=[v("i",{class:"fas fa-comments"},null,-1)]),10,Zm)])],2)}),128))])])])])]),(H(),ls(Ji,{to:"body"},[te(Gn,{name:"modal"},{default:ot(()=>[s.value?(H(),V("div",ev,[v("div",{class:"modal-overlay",onClick:c[1]||(c[1]=f=>s.value=null)}),v("div",tv,[v("div",sv,[c[13]||(c[13]=v("h3",null,"Comments",-1)),v("button",{class:"close-button",onClick:c[2]||(c[2]=f=>s.value=null)},c[12]||(c[12]=[v("i",{class:"fas fa-times"},null,-1)]))]),v("div",nv,[te($m,{"task-id":s.value},null,8,["task-id"])])])])):_e("",!0)]),_:1})])),(H(),ls(Ji,{to:"body"},[te(Gn,{name:"modal"},{default:ot(()=>[r.value?(H(),V("div",rv,[v("div",{class:"modal-overlay",onClick:c[3]||(c[3]=f=>r.value=!1)}),v("div",iv,[v("div",ov,[c[15]||(c[15]=v("h3",null,"Create Workspace",-1)),v("button",{class:"close-button",onClick:c[4]||(c[4]=f=>r.value=!1)},c[14]||(c[14]=[v("i",{class:"fas fa-times"},null,-1)]))]),v("div",av,[te(Nm,{onCreated:c[5]||(c[5]=f=>r.value=!1)})])])])):_e("",!0)]),_:1})])),te(J(ni),{to:"/tasks/create",class:"create-button"},{default:ot(()=>c[16]||(c[16]=[v("i",{class:"fas fa-plus"},null,-1),v("span",{class:"tooltip"},"Create Task",-1)])),_:1})]))}}),_a=Ke(lv,[["__scopeId","data-v-c9b6ea54"]]),cv={class:"form-group"},uv=["disabled"],fv={class:"form-group"},dv=["disabled"],hv={class:"description-footer"},pv={class:"form-row"},gv={class:"form-group"},mv={class:"form-group"},vv={class:"form-group"},_v={class:"tags-input"},yv=["onClick","disabled"],bv=["disabled"],wv={class:"tags-footer"},kv={class:"tag-count"},Sv={class:"form-actions"},Ev=["disabled"],In=1e3,Tv=Ie({__name:"TaskForm",props:{initialTask:{},disabled:{type:Boolean}},emits:["submit"],setup(e,{emit:t}){var k,O,x,R,b;const s=e,n=t,r=X(((k=s.initialTask)==null?void 0:k.title)??""),i=X(((O=s.initialTask)==null?void 0:O.description)??""),o=X(((x=s.initialTask)==null?void 0:x.status)??"todo"),a=X(((R=s.initialTask)==null?void 0:R.priority)??"medium"),l=X(((b=s.initialTask)==null?void 0:b.tags)??[]),u=X(""),c=Ce(()=>i.value.length>In);function f(){const w=u.value.trim();w&&!l.value.includes(w)&&(l.value.push(w),u.value="")}function d(w){l.value=l.value.filter(T=>T!==w)}function h(){c.value||n("submit",{title:r.value,description:i.value.slice(0,In),status:o.value,priority:a.value,tags:l.value,workspace_id:"",user_id:"",created_at:new Date().toLocaleString(),updated_at:new Date().toLocaleString()})}const m=Ce(()=>!r.value.trim()||!i.value.trim());function _(w){w.key==="Enter"&&(w.preventDefault(),f())}return(w,T)=>(H(),V("form",{onSubmit:wn(h,["prevent"]),class:"task-form"},[v("div",cv,[T[5]||(T[5]=v("label",{for:"title"},[v("i",{class:"fas fa-heading"}),we(" Title ")],-1)),Et(v("input",{id:"title","onUpdate:modelValue":T[0]||(T[0]=j=>r.value=j),type:"text",required:"",placeholder:"Enter task title",disabled:w.disabled,class:"form-control"},null,8,uv),[[Ht,r.value]])]),v("div",fv,[T[7]||(T[7]=v("label",{for:"description"},[v("i",{class:"fas fa-align-left"}),we(" Description ")],-1)),Et(v("textarea",{id:"description","onUpdate:modelValue":T[1]||(T[1]=j=>i.value=j),required:"",placeholder:"Enter task description",disabled:w.disabled,maxlength:In,class:"form-control"},null,8,dv),[[Ht,i.value]]),v("div",hv,[T[6]||(T[6]=v("span",{class:"hint"},"Supports markdown",-1)),v("span",{class:Te(["char-count",{"near-limit":i.value.length>900}])},ae(i.value.length)+"/"+ae(In),3)])]),v("div",pv,[v("div",gv,[T[8]||(T[8]=v("label",{for:"status"},[v("i",{class:"fas fa-tasks"}),we(" Status ")],-1)),te(vn,{modelValue:o.value,"onUpdate:modelValue":T[2]||(T[2]=j=>o.value=j),options:[{value:"todo",label:"To Do"},{value:"in-progress",label:"In Progress"},{value:"done",label:"Done"}]},null,8,["modelValue"])]),v("div",mv,[T[9]||(T[9]=v("label",{for:"priority"},[v("i",{class:"fas fa-flag"}),we(" Priority ")],-1)),te(vn,{modelValue:a.value,"onUpdate:modelValue":T[3]||(T[3]=j=>a.value=j),options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]},null,8,["modelValue"])])]),v("div",vv,[T[12]||(T[12]=v("label",null,[v("i",{class:"fas fa-tags"}),we(" Tags ")],-1)),v("div",_v,[v("div",{class:Te(["tags-list",{empty:!l.value.length}])},[(H(!0),V(Se,null,as(l.value,j=>(H(),V("span",{key:j,class:"tag"},[we(ae(j)+" ",1),v("button",{type:"button",class:"remove-tag",onClick:F=>d(j),disabled:w.disabled,title:"Remove tag"},T[10]||(T[10]=[v("i",{class:"fas fa-times"},null,-1)]),8,yv)]))),128)),l.value.length<5?Et((H(),V("input",{key:0,type:"text","onUpdate:modelValue":T[4]||(T[4]=j=>u.value=j),placeholder:"Add tag...",onKeydown:_,disabled:w.disabled,class:"tag-input"},null,40,bv)),[[Ht,u.value]]):_e("",!0)],2),v("div",wv,[T[11]||(T[11]=v("span",{class:"hint"},"Press Enter to add tag",-1)),v("span",kv,ae(l.value.length)+"/5",1)])])]),v("div",Sv,[v("button",{type:"submit",disabled:w.disabled||m.value,class:"submit-btn"},[T[13]||(T[13]=v("i",{class:"fas fa-save"},null,-1)),we(" "+ae(w.disabled?"Saving...":"Save Changes"),1)],8,Ev)])],32))}}),Cc=Ke(Tv,[["__scopeId","data-v-a638ca78"]]),Cv={class:"task-create"},Pv={class:"header"},$v=Ie({__name:"TaskCreate",setup(e){const t=ji(),s=fs();function n(r){s.addTask(r),t.push({name:"tasks"})}return(r,i)=>{const o=dl("RouterLink");return H(),V("div",Cv,[v("div",Pv,[i[1]||(i[1]=v("h1",null,"Create New Task",-1)),te(o,{to:"/",class:"back-button"},{default:ot(()=>i[0]||(i[0]=[we("Back to List")])),_:1})]),te(Cc,{onSubmit:n})])}}}),Av=Ke($v,[["__scopeId","data-v-86d19aeb"]]),Ov={key:0,class:"task-edit"},xv={class:"header-content"},Rv={class:"breadcrumbs"},jv={class:"current"},Iv={class:"edit-container"},Lv={class:"edit-sidebar"},Dv={class:"sidebar-section"},Mv={class:"info-item"},Uv={class:"value"},Nv={class:"info-item"},Fv={class:"value"},Bv={class:"edit-main"},Hv={key:0,class:"error-message"},Vv=Ie({__name:"TaskEdit",setup(e){const t=ji(),s=ac(),n=fs(),r=X(!1),i=X(null),o=Ce(()=>s.params.id),a=X(null);async function l(){try{if(!o.value)throw new Error("Task ID is required");r.value=!0;const{data:m,error:_}=await be.from("tasks").select("*").eq("id",o.value).single();if(_)throw _;if(!m)throw new Error("Task not found");a.value=m}catch(m){i.value=m instanceof Error?m.message:"Failed to load task",t.push({name:"tasks"})}finally{r.value=!1}}async function u(m){try{if(!o.value||!a.value)throw new Error("Task ID is required");r.value=!0,i.value=null;const _={title:m.title,description:m.description,status:m.status,priority:m.priority,tags:m.tags,workspace_id:m.workspace_id};await n.updateTask(o.value,_),t.push({name:"tasks"})}catch(_){i.value=_ instanceof Error?_.message:"Failed to update task"}finally{r.value=!1}}function c(){t.push({name:"tasks"})}const f=X(!1);function d(m){return new Date(m).toLocaleString()}function h(){f.value=window.scrollY>0}return zt(async()=>{await l(),window.addEventListener("scroll",h),h()}),ar(()=>{window.removeEventListener("scroll",h)}),(m,_)=>{const k=dl("RouterLink");return a.value?(H(),V("div",Ov,[v("div",{class:Te(["edit-header",{"is-scrolled":f.value}])},[v("div",xv,[v("div",Rv,[te(k,{to:"/",class:"breadcrumb-link"},{default:ot(()=>_[0]||(_[0]=[v("i",{class:"fas fa-tasks"},null,-1),v("span",{class:"breadcrumb-text"},"Tasks",-1)])),_:1}),_[1]||(_[1]=v("i",{class:"fas fa-chevron-right separator"},null,-1)),v("span",jv,"Task #"+ae(o.value.slice(-4)),1)]),v("div",{class:"header-actions"},[v("button",{onClick:c,class:"cancel-button"},_[2]||(_[2]=[v("i",{class:"fas fa-times"},null,-1),we(" Cancel ")]))])])],2),v("div",Iv,[v("div",Lv,[v("div",Dv,[_[5]||(_[5]=v("h3",null,"Task Information",-1)),v("div",Mv,[_[3]||(_[3]=v("span",{class:"label"},"Created",-1)),v("span",Uv,ae(d(a.value.created_at)),1)]),v("div",Nv,[_[4]||(_[4]=v("span",{class:"label"},"Updated",-1)),v("span",Fv,ae(d(a.value.updated_at)),1)])]),_[6]||(_[6]=v("div",{class:"sidebar-section"},[v("h3",null,"Quick Tips"),v("ul",{class:"tips-list"},[v("li",null,"Use clear and concise titles"),v("li",null,"Add detailed descriptions"),v("li",null,"Set appropriate priority"),v("li",null,"Add relevant tags")])],-1))]),v("div",Bv,[i.value?(H(),V("div",Hv,ae(i.value),1)):_e("",!0),te(Cc,{"initial-task":a.value,onSubmit:u,disabled:r.value},null,8,["initial-task","disabled"])])])])):_e("",!0)}}}),qv=Ke(Vv,[["__scopeId","data-v-e4392317"]]),Wv={class:"login-page"},Kv={class:"login-container card"},zv={key:0,class:"error-message"},Gv=["disabled"],Jv={key:0,class:"loading-spinner"},Qv={key:1},Yv=Ie({__name:"LoginPage",setup(e){const t=gr(),s=ac(),n=X(null);zt(()=>{s.query.error&&(n.value=s.query.error)});const r=async()=>{try{n.value=null,await t.signInWithGitHub()}catch(i){n.value=i instanceof Error?i.message:"Произошла ошибка при авторизации"}};return(i,o)=>(H(),V("div",Wv,[v("div",Kv,[o[1]||(o[1]=v("div",{class:"logo-container"},[v("div",{class:"logo"},[v("i",{class:"fas fa-tasks"})])],-1)),o[2]||(o[2]=v("h1",null,"Welcome to Task Manager",-1)),o[3]||(o[3]=v("p",{class:"subtitle"},"Organize your tasks efficiently and boost your productivity",-1)),n.value?(H(),V("div",zv,ae(n.value),1)):_e("",!0),v("button",{onClick:r,disabled:J(t).loading,class:"github-button"},[J(t).loading?(H(),V("span",Jv)):(H(),V("span",Qv,o[0]||(o[0]=[v("i",{class:"fab fa-github"},null,-1),we(" Continue with GitHub ")])))],8,Gv),o[4]||(o[4]=pf('<div class="features" data-v-3e125579><div class="feature" data-v-3e125579><i class="fas fa-check-circle" data-v-3e125579></i><span data-v-3e125579>Track your tasks</span></div><div class="feature" data-v-3e125579><i class="fas fa-clock" data-v-3e125579></i><span data-v-3e125579>Manage deadlines</span></div><div class="feature" data-v-3e125579><i class="fas fa-users" data-v-3e125579></i><span data-v-3e125579>Collaborate with team</span></div></div>',1))]),o[5]||(o[5]=v("div",{class:"background-shapes"},[v("div",{class:"shape shape-1"}),v("div",{class:"shape shape-2"}),v("div",{class:"shape shape-3"})],-1))]))}}),Xv=Ke(Yv,[["__scopeId","data-v-3e125579"]]),Pc=gh({history:Kd("/task-management-system/"),routes:[{path:"/",name:"tasks",component:_a,meta:{requiresAuth:!0}},{path:"/tasks/create",name:"task-create",component:Av},{path:"/tasks/:id/edit",name:"task-edit",component:qv},{path:"/login",name:"login",component:Xv},{path:"/auth/callback",name:"auth-callback",component:_a,meta:{requiresAuth:!1}},{path:"/:pathMatch(.*)*",name:"not-found",redirect:()=>({name:"login"})}]});Pc.beforeEach(async e=>{try{const t=window.location.hash;if(t&&t.includes("access_token")){const{data:{session:r},error:i}=await be.auth.getSession();if(i)throw new Error("Authentication failed: "+i.message);if(r)return{name:"tasks"}}if(e.path==="/auth/callback"){const{data:{session:r},error:i}=await be.auth.getSession();if(i)throw new Error("Authentication failed: "+i.message);if(r)return{name:"tasks"};throw new Error("No session after authentication")}const{data:{session:s},error:n}=await be.auth.getSession();if(n)throw new Error("Session check failed: "+n.message);if(e.meta.requiresAuth&&!s)return{name:"login",query:{error:"Authentication required"}}}catch(t){return console.error("Navigation error:",t),{name:"login",query:{error:t instanceof Error?t.message:"Unknown error occurred"}}}});const Ni=od($g);Ni.use(ud());Ni.use(Pc);Ni.mount("#app");export{Th as g};
